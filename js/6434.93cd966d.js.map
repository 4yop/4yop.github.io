{"version":3,"file":"js/6434.93cd966d.js","mappings":"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","sources":["webpack://web-tool-vue/./src/views/dev/ResourceExtractor.vue","webpack://web-tool-vue/src/views/dev/ResourceExtractor.vue","webpack://web-tool-vue/./src/views/dev/ResourceExtractor.vue?c8a7","webpack://web-tool-vue/./src/views/dev/ResourceExtractor.vue?3c43"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"resource-extractor\"},[_c('el-card',{staticClass:\"input-card\",attrs:{\"shadow\":\"hover\"}},[_c('h2',[_vm._v(\"HTML 资源提取工具\")]),_c('div',{staticClass:\"desc-area\"},[_c('el-popover',{attrs:{\"placement\":\"bottom\",\"title\":\"操作步骤：1. F12 打开 Elements 面板； 2. 右键点击 <html> 标签； 3. 选择 Copy outerHTML 即可。\",\"width\":\"320\",\"trigger\":\"click\",\"popper-class\":\"html-copy-popover\"}},[_c('el-button',{staticClass:\"guide-link\",attrs:{\"slot\":\"reference\",\"type\":\"text\",\"size\":\"mini\"},slot:\"reference\"},[_vm._v(\" [获取源码指南] \"),_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_c('div',{staticClass:\"settings-area\"},[_c('el-checkbox-group',{staticClass:\"type-checkboxes\",model:{value:(_vm.resourceTypes),callback:function ($$v) {_vm.resourceTypes=$$v},expression:\"resourceTypes\"}},[_c('el-checkbox',{attrs:{\"label\":\"image\"}},[_vm._v(\"图片 (IMG)\")]),_c('el-checkbox',{attrs:{\"label\":\"video\"}},[_vm._v(\"视频 (Video/Source)\")]),_c('el-checkbox',{attrs:{\"label\":\"script\"}},[_vm._v(\"JS 脚本 (Script)\")]),_c('el-checkbox',{attrs:{\"label\":\"style\"}},[_vm._v(\"CSS 样式 (Link/Style)\")])],1),_c('el-input',{staticClass:\"html-textarea\",attrs:{\"type\":\"textarea\",\"rows\":10,\"placeholder\":\"请粘贴 HTML 源码...\"},model:{value:(_vm.inputHtml),callback:function ($$v) {_vm.inputHtml=$$v},expression:\"inputHtml\"}}),_c('el-button',{staticClass:\"analyze-button\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading,\"disabled\":!_vm.inputHtml.trim()},on:{\"click\":_vm.analyzeHtml}},[_vm._v(\" \"+_vm._s(_vm.loading ? '解析中...' : '开始解析')+\" \")])],1)]),(_vm.resourceList.length > 0)?_c('el-card',{staticClass:\"list-card\",attrs:{\"shadow\":\"hover\"}},[_c('h3',[_vm._v(\"解析结果 (共 \"+_vm._s(_vm.resourceList.length)+\" 个资源)\")]),_c('div',{staticClass:\"list-actions\"},[_c('el-checkbox',{attrs:{\"indeterminate\":_vm.isIndeterminate},on:{\"change\":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\" 全选/反选 (已选 \"+_vm._s(_vm.selectedResources.length)+\") \")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\",\"disabled\":_vm.selectedResources.length === 0},on:{\"click\":_vm.batchDownload}},[_vm._v(\" 打包下载选中项 (\"+_vm._s(_vm.selectedResources.length)+\") \")])],1),_c('el-table',{staticClass:\"resource-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.resourceList,\"header-cell-style\":{background:'#f5f7fa',color:'#606266'}}},[_c('el-table-column',{attrs:{\"width\":\"40\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-checkbox',{model:{value:(scope.row.selected),callback:function ($$v) {_vm.$set(scope.row, \"selected\", $$v)},expression:\"scope.row.selected\"}})]}}],null,false,1785335365)}),_c('el-table-column',{attrs:{\"label\":\"预览/文件名\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === 'image')?_c('div',{staticClass:\"preview-box\"},[_c('img',{staticClass:\"preview-img\",attrs:{\"src\":scope.row.url,\"alt\":\"预览\"},on:{\"error\":function($event){scope.row.url = '/path/to/placeholder.png'}}})]):_c('span',[_vm._v(_vm._s(scope.row.filename || '链接资源'))])]}}],null,false,3150050159)}),_c('el-table-column',{attrs:{\"label\":\"类型\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(_vm.typeMap[scope.row.type] || scope.row.type))])]}}],null,false,1708744488)}),_c('el-table-column',{attrs:{\"label\":\"资源链接\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.url)+\" \")]}}],null,false,1844302230)}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\",\"loading\":scope.row.downloading},on:{\"click\":function($event){return _vm.downloadFile(scope.row)}}},[_vm._v(\" 下载 \")])]}}],null,false,1048162525)})],1)],1):_vm._e(),(_vm.showEmpty)?_c('el-card',{staticClass:\"list-card\",attrs:{\"shadow\":\"hover\"}},[_c('el-empty',{attrs:{\"description\":\"未检测到匹配的资源，请检查粘贴的 HTML 源码或解析设置。\"}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"resource-extractor\">\r\n    <el-card class=\"input-card\" shadow=\"hover\">\r\n      <h2>HTML 资源提取工具</h2>\r\n      <div class=\"desc-area\">\r\n        <el-popover\r\n            placement=\"bottom\"\r\n            title=\"操作步骤：1. F12 打开 Elements 面板； 2. 右键点击 <html> 标签； 3. 选择 Copy outerHTML 即可。\"\r\n            width=\"320\"\r\n            trigger=\"click\" popper-class=\"html-copy-popover\"\r\n        >\r\n          <el-button slot=\"reference\" type=\"text\" size=\"mini\" class=\"guide-link\">\r\n            [获取源码指南] <i class=\"el-icon-question\"></i> </el-button>\r\n\r\n        </el-popover>\r\n      </div>\r\n\r\n      <div class=\"settings-area\">\r\n        <el-checkbox-group v-model=\"resourceTypes\" class=\"type-checkboxes\">\r\n          <el-checkbox label=\"image\">图片 (IMG)</el-checkbox>\r\n          <el-checkbox label=\"video\">视频 (Video/Source)</el-checkbox>\r\n          <el-checkbox label=\"script\">JS 脚本 (Script)</el-checkbox>\r\n          <el-checkbox label=\"style\">CSS 样式 (Link/Style)</el-checkbox>\r\n        </el-checkbox-group>\r\n\r\n        <el-input\r\n            type=\"textarea\"\r\n            :rows=\"10\"\r\n            placeholder=\"请粘贴 HTML 源码...\"\r\n            v-model=\"inputHtml\"\r\n            class=\"html-textarea\"\r\n        ></el-input>\r\n\r\n        <el-button\r\n            type=\"primary\"\r\n            @click=\"analyzeHtml\"\r\n            :loading=\"loading\"\r\n            :disabled=\"!inputHtml.trim()\"\r\n            class=\"analyze-button\"\r\n        >\r\n          {{ loading ? '解析中...' : '开始解析' }}\r\n        </el-button>\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-card v-if=\"resourceList.length > 0\" class=\"list-card\" shadow=\"hover\">\r\n      <h3>解析结果 (共 {{ resourceList.length }} 个资源)</h3>\r\n\r\n      <div class=\"list-actions\">\r\n        <el-checkbox\r\n            :indeterminate=\"isIndeterminate\"\r\n            v-model=\"checkAll\"\r\n            @change=\"handleCheckAllChange\"\r\n        >\r\n          全选/反选 (已选 {{ selectedResources.length }})\r\n        </el-checkbox>\r\n        <el-button\r\n            type=\"success\"\r\n            size=\"small\"\r\n            :disabled=\"selectedResources.length === 0\"\r\n            @click=\"batchDownload\"\r\n        >\r\n          打包下载选中项 ({{ selectedResources.length }})\r\n        </el-button>\r\n      </div>\r\n\r\n      <el-table\r\n          :data=\"resourceList\"\r\n          style=\"width: 100%\"\r\n          :header-cell-style=\"{background:'#f5f7fa',color:'#606266'}\"\r\n          class=\"resource-table\"\r\n      >\r\n        <el-table-column width=\"40\">\r\n          <template slot-scope=\"scope\">\r\n            <el-checkbox v-model=\"scope.row.selected\"></el-checkbox>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"预览/文件名\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"scope.row.type === 'image'\" class=\"preview-box\">\r\n              <img :src=\"scope.row.url\" alt=\"预览\" class=\"preview-img\" @error=\"scope.row.url = '/path/to/placeholder.png'\">\r\n            </div>\r\n            <span v-else>{{ scope.row.filename || '链接资源' }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"类型\" width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag size=\"small\">{{ typeMap[scope.row.type] || scope.row.type }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"资源链接\" show-overflow-tooltip>\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.url }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"操作\" width=\"100\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                @click=\"downloadFile(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                :loading=\"scope.row.downloading\"\r\n            >\r\n              下载\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <el-card v-if=\"showEmpty\" class=\"list-card\" shadow=\"hover\">\r\n      <el-empty description=\"未检测到匹配的资源，请检查粘贴的 HTML 源码或解析设置。\"></el-empty>\r\n    </el-card>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue';\r\nimport JSZip from 'jszip';\r\n// 假设您已全局安装或导入 Vue-Meta 插件\r\n// 如果您使用的是 vue-meta，则 metaInfo 选项会自动工作\r\nexport default defineComponent({\r\n  name: \"ResourceExtractor\",\r\n  // SEO Meta 配置\r\n  metaInfo: {\r\n    title: 'HTML 资源提取器 | 网页素材链接分析与下载工具',\r\n    meta: [\r\n      {\r\n        name: 'description',\r\n        content: '专业的 HTML 源码资源提取工具。粘贴 F12 复制的 HTML 代码，一键解析并分类提取所有 JS、CSS、图片、视频等静态资源链接，支持选择性下载。'\r\n      },\r\n      {\r\n        name: 'keywords',\r\n        content: 'HTML 资源提取, 网页资源下载, 静态文件分析, CSS 链接提取, JavaScript 提取, 网页素材获取, 链接解析工具'\r\n      }\r\n    ]\r\n  },\r\n  data() {\r\n    return {\r\n      inputHtml: '',\r\n      loading: false,\r\n      resourceTypes: ['image', 'video'], // 默认勾选\r\n      resourceList: [],\r\n      checkAll: false,\r\n      isIndeterminate: false,\r\n      showEmpty: false,\r\n      typeMap: {\r\n        image: '图片',\r\n        video: '视频',\r\n        script: '脚本',\r\n        style: '样式'\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    selectedResources() {\r\n      return this.resourceList.filter(item => item.selected);\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听列表变化，同步更新全选/反选状态\r\n    resourceList: {\r\n      handler(newVal) {\r\n        if (newVal.length === 0) {\r\n          this.checkAll = false;\r\n          this.isIndeterminate = false;\r\n          return;\r\n        }\r\n        const checkedCount = newVal.filter(item => item.selected).length;\r\n        this.checkAll = checkedCount === newVal.length;\r\n        this.isIndeterminate = checkedCount > 0 && checkedCount < newVal.length;\r\n        this.showEmpty = newVal.length === 0 && !this.loading;\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    // 核心解析逻辑\r\n    analyzeHtml() {\r\n      if (!this.inputHtml.trim()) return;\r\n      this.loading = true;\r\n      this.resourceList = [];\r\n      this.showEmpty = false;\r\n\r\n      // 1. 创建临时的 DOM 解析器 (Sandbox)\r\n      const parser = new DOMParser();\r\n      const doc = parser.parseFromString(this.inputHtml, 'text/html');\r\n      const foundResources = [];\r\n\r\n      const baseUrl = this.getBaseUrl(doc); // 获取页面的 base URL (处理相对路径)\r\n\r\n      // 2. 查找和提取资源\r\n\r\n      // 提取图片 (IMG)\r\n      if (this.resourceTypes.includes('image')) {\r\n        doc.querySelectorAll('img').forEach(el => {\r\n          const url = el.getAttribute('src') || el.getAttribute('data-src');\r\n          if (url) {\r\n            foundResources.push(this.formatResource(url, 'image', baseUrl));\r\n          }\r\n        });\r\n      }\r\n\r\n      // 提取视频 (VIDEO/SOURCE)\r\n      if (this.resourceTypes.includes('video')) {\r\n        doc.querySelectorAll('video, source').forEach(el => {\r\n          const url = el.getAttribute('src');\r\n          if (url) {\r\n            // 简单判断文件类型\r\n            const type = (url.endsWith('.mp4') || url.includes('video')) ? 'video' : 'media';\r\n            foundResources.push(this.formatResource(url, type, baseUrl));\r\n          }\r\n        });\r\n      }\r\n\r\n      // 提取 JS 脚本 (SCRIPT)\r\n      if (this.resourceTypes.includes('script')) {\r\n        doc.querySelectorAll('script').forEach(el => {\r\n          const url = el.getAttribute('src');\r\n          if (url) {\r\n            foundResources.push(this.formatResource(url, 'script', baseUrl));\r\n          }\r\n        });\r\n      }\r\n\r\n      // 提取 CSS 样式 (LINK)\r\n      if (this.resourceTypes.includes('style')) {\r\n        doc.querySelectorAll('link[rel=\"stylesheet\"]').forEach(el => {\r\n          const url = el.getAttribute('href');\r\n          if (url) {\r\n            foundResources.push(this.formatResource(url, 'style', baseUrl));\r\n          }\r\n        });\r\n      }\r\n\r\n      // 3. 去重和最终处理\r\n      const uniqueUrls = [...new Set(foundResources.map(r => r.url))];\r\n      this.resourceList = uniqueUrls.map(url => {\r\n        // 找到原始对象来保留 type 和 filename\r\n        const original = foundResources.find(r => r.url === url);\r\n        return {\r\n          ...original,\r\n          selected: true, // 默认选中\r\n          downloading: false,\r\n          progress: 0,\r\n        };\r\n      });\r\n\r\n      this.loading = false;\r\n    },\r\n\r\n    // 辅助函数：获取 base URL (处理相对路径)\r\n    getBaseUrl(doc) {\r\n      const baseEl = doc.querySelector('base');\r\n      if (baseEl && baseEl.getAttribute('href')) {\r\n        return baseEl.getAttribute('href');\r\n      }\r\n      // 如果用户粘贴的 HTML 包含 <base href=\"http://example.com/\">，则使用它。\r\n      // 否则，无法确定相对路径的基准，可能会导致链接失效。\r\n      return '';\r\n    },\r\n\r\n    // 辅助函数：格式化和绝对化 URL\r\n    formatResource(url, type, baseUrl) {\r\n      // ⚠️ 纯前端处理绝对路径和相对路径非常困难，这里仅作简单处理。\r\n      // 如果链接是 //example.com/a.js 或 /a.js，这里无法完美处理。\r\n      let absoluteUrl = url.startsWith('http') ? url : (baseUrl + url);\r\n\r\n      return {\r\n        url: absoluteUrl,\r\n        type: type,\r\n        filename: absoluteUrl.substring(absoluteUrl.lastIndexOf('/') + 1) || 'resource'\r\n      };\r\n    },\r\n\r\n    // ... methods 内部 ...\r\n\r\n// 批量下载（重写为 ZIP 打包）\r\n    async batchDownload() {\r\n      if (this.selectedResources.length === 0) return;\r\n\r\n      const zip = new JSZip();\r\n      let filesToProcess = this.selectedResources.length;\r\n      let filesProcessed = 0;\r\n\r\n      this.loading = true; // 启用加载状态\r\n      this.$notify({\r\n        title: '开始打包',\r\n        message: `正在获取 ${filesToProcess} 个资源，请勿关闭页面...`,\r\n        type: 'info',\r\n        duration: 3000\r\n      });\r\n\r\n      const promises = this.selectedResources.map(async (item) => {\r\n        item.downloading = true; // 显示单项下载状态\r\n\r\n        try {\r\n          // 1. 使用 fetch 获取资源的 Blob 数据\r\n          const response = await fetch(item.url, { mode: 'cors' });\r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n          }\r\n          const blob = await response.blob();\r\n\r\n          // 2. 将数据添加到 ZIP 实例\r\n          // 注意：这里需要确保文件名唯一，避免覆盖\r\n          let filename = item.filename || `${item.type}_${Date.now()}`;\r\n          // 简单的文件名去重处理（如果您的列表可能包含相同文件名）\r\n          const existingFile = zip.file(filename);\r\n          if (existingFile) {\r\n            filename = `${filesProcessed}_${filename}`;\r\n          }\r\n\r\n          zip.file(filename, blob);\r\n\r\n          filesProcessed++;\r\n\r\n        } catch (error) {\r\n          console.error(`下载文件失败: ${item.url}`, error);\r\n          this.$message.error(`文件 ${item.filename} 获取失败（跨域或网络错误）。`);\r\n        } finally {\r\n          item.downloading = false; // 隐藏单项下载状态\r\n        }\r\n      });\r\n\r\n      try {\r\n        // 等待所有文件获取完毕\r\n        await Promise.all(promises);\r\n\r\n        // 3. 生成 ZIP 文件 (异步操作)\r\n        this.$notify({\r\n          title: '压缩中...',\r\n          message: '文件已获取完毕，正在生成 ZIP 压缩包...',\r\n          type: 'success',\r\n          duration: 1500\r\n        });\r\n\r\n        // 生成 Blob 数据，type: 'blob' 是最常用的格式\r\n        const zipBlob = await zip.generateAsync({ type: 'blob' });\r\n\r\n        // 4. 触发下载\r\n        const zipUrl = window.URL.createObjectURL(zipBlob);\r\n        const a = document.createElement('a');\r\n        a.href = zipUrl;\r\n        a.download = `web_resources_${Date.now()}.zip`; // 命名 ZIP 文件\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(zipUrl);\r\n        a.remove();\r\n\r\n        this.$message.success('ZIP 文件下载已开始！');\r\n\r\n      } catch (error) {\r\n        this.$message.error('打包或下载 ZIP 文件时发生错误。');\r\n        console.error('ZIP Error:', error);\r\n      } finally {\r\n        this.loading = false; // 最终关闭加载状态\r\n      }\r\n    },\r\n\r\n    // 单文件下载（可选，保留为单独下载按钮）\r\n    downloadFile(item, showMessage = true) {\r\n      // 保持原有的单文件下载逻辑不变，或可删除此方法，只使用批量下载\r\n      if (!item.url) return;\r\n      item.downloading = true;\r\n\r\n      fetch(item.url, { mode: 'cors' })\r\n          .then(response => response.blob())\r\n          .then(blob => {\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n            a.download = item.filename || 'downloaded_file';\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n            a.remove();\r\n\r\n            if (showMessage) {\r\n              this.$message.success(`文件 ${item.filename} 开始下载!`);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error('Download failed:', error);\r\n            this.$message.error(`下载失败：跨域或网络错误。`);\r\n          })\r\n          .finally(() => {\r\n            item.downloading = false;\r\n          });\r\n    },\r\n\r\n    // 全选/反选处理\r\n    handleCheckAllChange(val) {\r\n      this.resourceList.forEach(item => {\r\n        item.selected = val;\r\n      });\r\n      this.isIndeterminate = false;\r\n    },\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.desc-area {\r\n  text-align: right;\r\n  align-items: center;\r\n  margin-bottom: 10px; /* 调整与输入框的间距 */\r\n}\r\n.desc-text {\r\n  color: #909399;\r\n  font-size: 14px;\r\n  margin-right: 10px; /* 文字和按钮的间距 */\r\n  margin-bottom: 0; /* 移除段落默认外边距 */\r\n}\r\n.guide-link {\r\n  font-size: 13px !important;\r\n  padding: 0;\r\n}\r\n.resource-extractor {\r\n  max-width: 1200px;\r\n  margin: 20px auto;\r\n  padding: 0 10px;\r\n}\r\n\r\n.input-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.desc {\r\n  color: #909399;\r\n  font-size: 14px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.type-checkboxes {\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.type-checkboxes .el-checkbox {\r\n  margin-right: 15px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.list-actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding: 10px 0;\r\n}\r\n\r\n/* 手机端排版优化 */\r\n@media (max-width: 768px) {\r\n  .resource-extractor {\r\n    padding: 0 5px;\r\n  }\r\n  .settings-area {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  .analyze-button {\r\n    margin-top: 10px;\r\n  }\r\n  .type-checkboxes {\r\n    flex-direction: column;\r\n  }\r\n  .type-checkboxes .el-checkbox {\r\n    margin-left: 0 !important;\r\n  }\r\n\r\n  /* 减小表格字体 */\r\n  .resource-table {\r\n    font-size: 12px;\r\n  }\r\n  /* 隐藏在小屏幕上不重要的列 */\r\n  .resource-table .el-table-column:nth-child(4) {\r\n    display: none; /* 隐藏资源链接列 */\r\n  }\r\n}\r\n\r\n.preview-box {\r\n  width: 100px;\r\n  height: 60px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.preview-img {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  object-fit: contain;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ResourceExtractor.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ResourceExtractor.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ResourceExtractor.vue?vue&type=template&id=29a1b526&scoped=true\"\nimport script from \"./ResourceExtractor.vue?vue&type=script&lang=js\"\nexport * from \"./ResourceExtractor.vue?vue&type=script&lang=js\"\nimport style0 from \"./ResourceExtractor.vue?vue&type=style&index=0&id=29a1b526&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29a1b526\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","_v","slot","model","value","resourceTypes","callback","$$v","expression","inputHtml","loading","trim","on","analyzeHtml","_s","resourceList","length","isIndeterminate","handleCheckAllChange","checkAll","selectedResources","batchDownload","staticStyle","background","color","scopedSlots","_u","key","fn","scope","row","selected","$set","type","url","$event","filename","typeMap","downloading","downloadFile","_e","showEmpty","staticRenderFns","defineComponent","name","metaInfo","title","meta","content","data","image","video","script","style","computed","filter","item","watch","handler","newVal","checkedCount","deep","methods","parser","DOMParser","doc","parseFromString","foundResources","baseUrl","getBaseUrl","includes","querySelectorAll","forEach","el","getAttribute","push","formatResource","endsWith","uniqueUrls","Set","map","r","original","find","progress","baseEl","querySelector","absoluteUrl","startsWith","substring","lastIndexOf","zip","JSZip","filesToProcess","filesProcessed","$notify","message","duration","promises","response","fetch","mode","ok","Error","status","blob","Date","now","existingFile","file","error","console","$message","Promise","all","zipBlob","generateAsync","zipUrl","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","revokeObjectURL","remove","success","showMessage","then","catch","finally","val","component"],"sourceRoot":""}