(function(){"use strict";var e={56628:function(e,t,o){var r=o(66848),s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"resource-extractor"},[t("el-card",{staticClass:"input-card",attrs:{shadow:"hover"}},[t("h2",[e._v("HTML 资源提取工具")]),t("el-dialog",{attrs:{title:"操作说明",visible:e.dialogVisible,width:"90%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",[e._v(" 复制代码操作步骤：1. F12 打开 Elements 面板； 2. 右键点击 html 标签； 3. 选择 Copy outerHTML 即可。 ")]),t("div",[e._v(" 下载需安装并开启扩展: "),t("a",{attrs:{target:"_blank",href:"https://chromewebstore.google.com/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf"}},[e._v("chrome")]),e._v("| "),t("a",{attrs:{target:"_blank",href:"https://microsoftedge.microsoft.com/addons/detail/allow-cors-accesscontro/bhjepjpgngghppolkjdhckmnfphffdag"}},[e._v("edge")])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)]),t("div",{staticClass:"desc-area"},[t("el-button",{staticClass:"guide-link",attrs:{slot:"reference",type:"text",size:"mini"},on:{click:function(t){e.dialogVisible=!0}},slot:"reference"},[e._v(" 操作说明 "),t("i",{staticClass:"el-icon-question"})])],1),t("div",{staticClass:"settings-area"},[t("el-checkbox-group",{staticClass:"type-checkboxes",model:{value:e.resourceTypes,callback:function(t){e.resourceTypes=t},expression:"resourceTypes"}},[t("el-checkbox",{attrs:{label:"image"}},[e._v("图片 (IMG)")]),t("el-checkbox",{attrs:{label:"video"}},[e._v("视频 (Video/Source)")]),t("el-checkbox",{attrs:{label:"script"}},[e._v("JS 脚本 (Script)")]),t("el-checkbox",{attrs:{label:"style"}},[e._v("CSS 样式 (Link/Style)")])],1),t("el-input",{staticClass:"html-textarea",attrs:{type:"textarea",rows:10,placeholder:"请粘贴 HTML 源码..."},model:{value:e.inputHtml,callback:function(t){e.inputHtml=t},expression:"inputHtml"}}),t("el-button",{staticClass:"analyze-button",attrs:{type:"primary",loading:e.loading,disabled:!e.inputHtml.trim()},on:{click:e.analyzeHtml}},[e._v(" "+e._s(e.loading?"解析中...":"开始解析")+" ")])],1)],1),e.resourceList.length>0?t("el-card",{staticClass:"list-card",attrs:{shadow:"hover"}},[t("h3",[e._v("解析结果 (共 "+e._s(e.resourceList.length)+" 个资源)")]),t("div",{staticClass:"list-actions"},[t("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(" 全选/反选 (已选 "+e._s(e.selectedResources.length)+") ")]),t("el-button",{attrs:{type:"success",size:"small",disabled:0===e.selectedResources.length},on:{click:e.batchDownload}},[e._v(" 打包下载选中项 ("+e._s(e.selectedResources.length)+") ")])],1),t("el-table",{staticClass:"resource-table",staticStyle:{width:"100%"},attrs:{data:e.resourceList,"header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[t("el-table-column",{attrs:{width:"40"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-checkbox",{model:{value:o.row.selected,callback:function(t){e.$set(o.row,"selected",t)},expression:"scope.row.selected"}})]}}],null,!1,1785335365)}),t("el-table-column",{attrs:{label:"预览/文件名",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return["image"===o.row.type?t("div",{staticClass:"preview-box"},[t("img",{staticClass:"preview-img",attrs:{src:o.row.url,alt:"预览"},on:{error:function(e){o.row.url="/path/to/placeholder.png"}}})]):t("span",[e._v(e._s(o.row.filename||"链接资源"))])]}}],null,!1,3150050159)}),t("el-table-column",{attrs:{label:"类型",width:"80"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{size:"small"}},[e._v(e._s(e.typeMap[o.row.type]||o.row.type))])]}}],null,!1,1708744488)}),t("el-table-column",{attrs:{label:"资源链接","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.url)+" ")]}}],null,!1,1844302230)}),t("el-table-column",{attrs:{label:"操作",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"text",size:"small",loading:o.row.downloading},on:{click:function(t){return e.downloadFile(o.row)}}},[e._v(" 下载 ")])]}}],null,!1,1048162525)})],1)],1):e._e(),e.showEmpty?t("el-card",{staticClass:"list-card",attrs:{shadow:"hover"}},[t("el-empty",{attrs:{description:"未检测到匹配的资源，请检查粘贴的 HTML 源码或解析设置。"}})],1):e._e()],1)},n=[],l=(o(16280),o(44114),o(17642),o(58004),o(33853),o(45876),o(32475),o(15024),o(31698),o(14603),o(47566),o(98721),o(44813)),i=o.n(l),a=(0,r.defineComponent)({name:"ResourceExtractor",metaInfo:{title:"HTML 资源提取器 | 网页素材链接分析与下载工具",meta:[{name:"description",content:"专业的 HTML 源码资源提取工具。粘贴 F12 复制的 HTML 代码，一键解析并分类提取所有 JS、CSS、图片、视频等静态资源链接，支持选择性下载。"},{name:"keywords",content:"HTML 资源提取, 网页资源下载, 静态文件分析, CSS 链接提取, JavaScript 提取, 网页素材获取, 链接解析工具"}]},data(){return{dialogVisible:!1,inputHtml:"",loading:!1,resourceTypes:["image","video"],resourceList:[],checkAll:!1,isIndeterminate:!1,showEmpty:!1,typeMap:{image:"图片",video:"视频",script:"脚本",style:"样式"}}},computed:{selectedResources(){return this.resourceList.filter((e=>e.selected))}},created(){},watch:{resourceList:{handler(e){if(0===e.length)return this.checkAll=!1,void(this.isIndeterminate=!1);const t=e.filter((e=>e.selected)).length;this.checkAll=t===e.length,this.isIndeterminate=t>0&&t<e.length,this.showEmpty=0===e.length&&!this.loading},deep:!0}},methods:{analyzeHtml(){if(!this.inputHtml.trim())return;this.loading=!0,this.resourceList=[],this.showEmpty=!1;const e=new DOMParser,t=e.parseFromString(this.inputHtml,"text/html"),o=[],r=this.getBaseUrl(t);this.resourceTypes.includes("image")&&t.querySelectorAll("img").forEach((e=>{const t=e.getAttribute("src")||e.getAttribute("data-src");t&&o.push(this.formatResource(t,"image",r))})),this.resourceTypes.includes("video")&&t.querySelectorAll("video, source").forEach((e=>{const t=e.getAttribute("src");if(t){const e=t.endsWith(".mp4")||t.includes("video")?"video":"media";o.push(this.formatResource(t,e,r))}})),this.resourceTypes.includes("script")&&t.querySelectorAll("script").forEach((e=>{const t=e.getAttribute("src");t&&o.push(this.formatResource(t,"script",r))})),this.resourceTypes.includes("style")&&t.querySelectorAll('link[rel="stylesheet"]').forEach((e=>{const t=e.getAttribute("href");t&&o.push(this.formatResource(t,"style",r))}));const s=[...new Set(o.map((e=>e.url)))];this.resourceList=s.map((e=>{const t=o.find((t=>t.url===e));return{...t,selected:!0,downloading:!1,progress:0}})),this.loading=!1},getBaseUrl(e){const t=e.querySelector("base");return t&&t.getAttribute("href")?t.getAttribute("href"):""},formatResource(e,t,o){let r=e.startsWith("http")?e:o+e;return{url:r,type:t,filename:r.substring(r.lastIndexOf("/")+1)||"resource"}},async batchDownload(){if(0===this.selectedResources.length)return;const e=new(i());let t=this.selectedResources.length,o=0;this.loading=!0,this.$notify({title:"开始打包",message:`正在获取 ${t} 个资源，请勿关闭页面...`,type:"info",duration:3e3});const r=this.selectedResources.map((async t=>{t.downloading=!0;try{const r=await fetch(t.url,{mode:"cors"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.blob();let n=t.filename||`${t.type}_${Date.now()}`;const l=e.file(n);l&&(n=`${o}_${n}`),e.file(n,s),o++}catch(r){console.error(`下载文件失败: ${t.url}`,r),this.$message.error(`文件 ${t.filename} 获取失败（跨域或网络错误）。`)}finally{t.downloading=!1}}));try{await Promise.all(r),this.$notify({title:"压缩中...",message:"文件已获取完毕，正在生成 ZIP 压缩包...",type:"success",duration:1500});const t=await e.generateAsync({type:"blob"}),o=window.URL.createObjectURL(t),s=document.createElement("a");s.href=o,s.download=`web_resources_${Date.now()}.zip`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(o),s.remove(),this.$message.success("ZIP 文件下载已开始！")}catch(s){this.$message.error("打包或下载 ZIP 文件时发生错误。"),console.error("ZIP Error:",s)}finally{this.loading=!1}},downloadFile(e,t=!0){e.url&&(e.downloading=!0,fetch(e.url,{mode:"cors"}).then((e=>e.blob())).then((o=>{const r=window.URL.createObjectURL(o),s=document.createElement("a");s.href=r,s.download=e.filename||"downloaded_file",document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(r),s.remove(),t&&this.$message.success(`文件 ${e.filename} 开始下载!`)})).catch((e=>{console.error("Download failed:",e),this.$message.error("下载失败：跨域或网络错误。")})).finally((()=>{e.downloading=!1})))},handleCheckAllChange(e){this.resourceList.forEach((t=>{t.selected=e})),this.isIndeterminate=!1}}}),c=a,u=o(81656),d=(0,u.A)(c,s,n,!1,null,"27abe526",null),h=d.exports,f=o(89143),p=o.n(f);r["default"].config.productionTip=!1,r["default"].use(p()),new r["default"]({render:e=>e(h),mounted(){document.dispatchEvent(new Event("render-event"))}}).$mount("#app")}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){o.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){o.amdO={}}(),function(){var e=[];o.O=function(t,r,s,n){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],s=e[u][1],n=e[u][2];for(var i=!0,a=0;a<r.length;a++)(!1&n||l>=n)&&Object.keys(o.O).every((function(e){return o.O[e](r[a])}))?r.splice(a--,1):(i=!1,n<l&&(l=n));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.j=3461}(),function(){var e={3461:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,n,l=r[0],i=r[1],a=r[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(a)var u=a(o)}for(t&&t(r);c<l.length;c++)n=l[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},r=self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(56628)}));r=o.O(r)})();