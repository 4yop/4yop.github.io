(function(){var t={90443:function(t,e,r){"use strict";var n=r(66848),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modern-bg"},[e("el-row",{attrs:{gutter:0,justify:"center"}},[e("el-col",{attrs:{xs:{span:24,offset:0},sm:{span:22,offset:1},md:{span:18,offset:3},lg:{span:14,offset:5},xl:{span:12,offset:6}}},[e("el-card",{staticClass:"modern-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"upload-row"},[e("el-upload",{attrs:{action:"#","auto-upload":!1,multiple:!1,"show-file-list":!1,accept:".pdf","on-change":t.handleUploadChange,disabled:t.loading}},[e("el-button",{attrs:{type:"primary",round:"",disabled:t.loading}},[t._v("选择文件")])],1),t.fileName?e("span",{staticStyle:{"max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v(t._s(t.fileName))]):t._e(),e("el-select",{staticStyle:{width:"100px"},attrs:{disabled:t.loading},model:{value:t.convertType,callback:function(e){t.convertType=e},expression:"convertType"}},t._l(t.typeOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-button",{attrs:{type:"success",round:"",disabled:!t.file||t.loading},on:{click:t.handleConvert}},[t._v("开始转换")]),t.resultImgs.length&&"image"===t.convertType?e("el-button",{attrs:{type:"primary",round:""},on:{click:t.downloadAll}},[t._v("下载全部图片")]):t._e()],1),t.loading?e("el-progress",{staticStyle:{margin:"16px 0"},attrs:{"show-text":!0,format:t.progressFormat,percentage:t.progress.percentage,"text-color":"red",status:"success","stroke-width":16,"text-inside":""}}):t._e(),t.error?e("div",{staticStyle:{color:"#f56c6c",margin:"12px 0","text-align":"center"}},[t._v(t._s(t.error))]):t._e(),e("el-row",{staticStyle:{"margin-top":"24px"},attrs:{gutter:16}},[e("el-col",{attrs:{span:24}},["image"===t.convertType?e("div",[t.resultImgs.length?e("div",t._l(t.resultImgs,(function(r,n){return e("div",{key:n,staticStyle:{"margin-bottom":"16px","text-align":"center"}},[e("el-image",{staticStyle:{"max-width":"100%","max-height":"400px","border-radius":"10px","box-shadow":"0 2px 8px rgba(0,0,0,0.08)"},attrs:{src:r.file_url,"preview-src-list":t.resultImgs.map((t=>t.file_url)),fit:"contain"}})],1)})),0):e("div",{staticStyle:{color:"#ccc","text-align":"center"}},[t._v("请上传文件并转换")])]):"html"===t.convertType?e("div",[t.resultHtml?e("div",[e("iframe",{staticStyle:{width:"100%","min-height":"400px",border:"none"},attrs:{srcdoc:t.resultHtml}})]):e("div",{staticStyle:{color:"#ccc","text-align":"center"}},[t._v("请上传PDF并转换")])]):t._e()])],1)],1)],1)],1)],1)},i=[],a=(r(44114),r(5279)),s=r(34345),l=r.n(s),c=r(75912);a.GlobalWorkerOptions.workerSrc=l();var u={name:"ConvertView",metaInfo:{title:"在线 PDF 转图片 - 支持多页与高清导出",meta:[{name:"description",content:"将 PDF 文件一键转换为 JPG/PNG 图片，支持逐页转换、高清导出，适合资料分享与预览。"},{name:"keywords",content:"PDF转图片,在线PDF转JPG,PDF导出图片,多页PDF转换,文档图片化"}]},data(){return{file:null,fileName:"",resultImgs:[],resultHtml:"",convertType:"image",loading:!1,error:"",typeOptions:[{label:"转为图片",value:"image"}],progress:{current:0,total:0,percentage:0}}},methods:{progressFormat(){return this.progress.current+"/"+this.progress.total},handleUploadChange(t,e){e.length>0?(this.file=e[e.length-1].raw||e[e.length-1],this.fileName=this.file.name,this.resultImgs=[],this.resultHtml="",this.error=""):(this.file=null,this.fileName="",this.resultImgs=[],this.resultHtml="",this.error="")},async handleConvert(){if(this.file){this.loading=!0,this.error="",this.resultImgs=[],this.resultHtml="";try{"application/pdf"===this.file.type?await this.pdfToImages(this.file):this.error="仅支持PDF文件"}catch(t){this.error=t.message||String(t)}this.loading=!1}else this.$message.error("请先上传文件")},async pdfToImages(t){this.resultImgs=[],this.error="",this.progress={current:0,total:0,percentage:0};try{const e=await t.arrayBuffer?await t.arrayBuffer():await this.readFileAsArrayBuffer(t),r=await a.getDocument({data:e}).promise;for(let t=1;t<=r.numPages;t++){const e=await r.getPage(t),n=e.getViewport({scale:2}),o=document.createElement("canvas"),i=o.getContext("2d");o.height=n.height,o.width=n.width,await e.render({canvasContext:i,viewport:n}).promise,this.resultImgs.push({file_url:o.toDataURL("image/jpeg",.85),file_name:`第${t}页.jpg`}),this.progress.current=t,this.progress.total=r.numPages,this.progress.percentage=t/r.numPages*100}console.log(this.resultImgs)}catch(e){this.error="PDF渲染失败："+(e.message||e)}this.loading=!1},readFileAsArrayBuffer(t){return new Promise(((e,r)=>{const n=new FileReader;n.onload=t=>e(t.target.result),n.onerror=r,n.readAsArrayBuffer(t)}))},async downloadAll(){if(!this.resultImgs.length)return void this.$message.warning("没有可下载的图片");const t=c.A.getBaseName(this.fileName)+".zip";await c.A.downloadAsZip(this.resultImgs,t,"file_url","file_name")}}},f=u,d=r(81656),p=(0,d.A)(f,o,i,!1,null,"464dccd8",null),g=p.exports,h=r(89143),m=r.n(h);n["default"].config.productionTip=!1,n["default"].use(m()),new n["default"]({render:t=>t(g),mounted(){document.dispatchEvent(new Event("render-event"))}}).$mount("#app")},17640:function(){},23237:function(){},97492:function(){},31815:function(){},66671:function(){},82787:function(){}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,function(){r.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){r.amdO={}}(),function(){var t=[];r.O=function(e,n,o,i){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],i=t[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((function(t){return r.O[t](n[l])}))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&o&&n;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return n[t]}}));return a["default"]=function(){return n},r.d(i,a),i}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.e=function(){return Promise.resolve()}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){r.j=7210}(),function(){var t={7210:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,a=n[0],s=n[1],l=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(e&&e(n);c<a.length;c++)i=a[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},n=self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504,996],(function(){return r(90443)}));n=r.O(n)})();