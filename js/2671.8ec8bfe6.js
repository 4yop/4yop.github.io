"use strict";(self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[]).push([[2671],{82671:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-clipper-container"},[t._m(0),e("div",{staticClass:"modern-card"},[t._m(1),e("el-upload",{staticClass:"upload-area",attrs:{drag:"",action:"","show-file-list":!1,"before-upload":t.handleVideoUpload,accept:"video/*"}},[t.videoFile?e("div",{staticClass:"uploaded-video"},[e("video",{ref:"videoPlayer",attrs:{src:t.videoUrl,controls:"",preload:"metadata"},on:{loadedmetadata:t.onVideoLoaded,timeupdate:t.onTimeUpdate}}),e("div",{staticClass:"video-info"},[e("p",[t._v("æ–‡ä»¶å: "+t._s(t.videoFile.name))]),e("p",[t._v("å¤§å°: "+t._s(t.formatFileSize(t.videoFile.size)))]),e("p",[t._v("æ—¶é•¿: "+t._s(t.formatTime(t.videoDuration)))])])]):e("div",{staticClass:"upload-content"},[e("i",{staticClass:"el-icon-video-camera"}),e("div",{staticClass:"upload-text"},[t._v("å°†è§†é¢‘æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),e("em",[t._v("ç‚¹å‡»ä¸Šä¼ ")])]),e("div",{staticClass:"upload-hint"},[t._v("æ”¯æŒ MP4ã€AVIã€MOVã€WebM æ ¼å¼")])])])],1),t.videoFile?e("div",{staticClass:"modern-card"},[t._m(2),e("div",{staticClass:"time-segments"},[t._l(t.timeSegments,(function(s,i){return e("div",{key:i,staticClass:"segment-item"},[e("div",{staticClass:"segment-header"},[e("span",{staticClass:"segment-title"},[t._v("ç‰‡æ®µ "+t._s(i+1))]),e("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",disabled:1===t.timeSegments.length},on:{click:function(e){return t.removeSegment(i)}}},[t._v(" åˆ é™¤ ")])],1),e("div",{staticClass:"segment-controls"},[e("div",{staticClass:"time-input-group"},[e("label",[t._v("å¼€å§‹æ—¶é—´")]),e("div",{staticClass:"time-inputs"},[e("el-input-number",{attrs:{min:0,max:23,size:"small"},on:{change:function(e){return t.validateSegment(i)}},model:{value:s.startHour,callback:function(e){t.$set(s,"startHour",e)},expression:"segment.startHour"}}),e("span",[t._v(":")]),e("el-input-number",{attrs:{min:0,max:59,size:"small"},on:{change:function(e){return t.validateSegment(i)}},model:{value:s.startMinute,callback:function(e){t.$set(s,"startMinute",e)},expression:"segment.startMinute"}}),e("span",[t._v(":")]),e("el-input-number",{attrs:{min:0,max:59,size:"small"},on:{change:function(e){return t.validateSegment(i)}},model:{value:s.startSecond,callback:function(e){t.$set(s,"startSecond",e)},expression:"segment.startSecond"}})],1),e("el-button",{attrs:{size:"mini",icon:"el-icon-position"},on:{click:function(e){return t.setCurrentTime(i,"start")}}},[t._v(" å½“å‰æ—¶é—´ ")])],1),e("div",{staticClass:"time-input-group"},[e("label",[t._v("ç»“æŸæ—¶é—´")]),e("div",{staticClass:"time-inputs"},[e("el-input-number",{attrs:{min:0,max:23,size:"small"},on:{change:function(e){return t.validateSegment(i)}},model:{value:s.endHour,callback:function(e){t.$set(s,"endHour",e)},expression:"segment.endHour"}}),e("span",[t._v(":")]),e("el-input-number",{attrs:{min:0,max:59,size:"small"},on:{change:function(e){return t.validateSegment(i)}},model:{value:s.endMinute,callback:function(e){t.$set(s,"endMinute",e)},expression:"segment.endMinute"}}),e("span",[t._v(":")]),e("el-input-number",{attrs:{min:0,max:59,size:"small"},on:{change:function(e){return t.validateSegment(i)}},model:{value:s.endSecond,callback:function(e){t.$set(s,"endSecond",e)},expression:"segment.endSecond"}})],1),e("el-button",{attrs:{size:"mini",icon:"el-icon-position"},on:{click:function(e){return t.setCurrentTime(i,"end")}}},[t._v(" å½“å‰æ—¶é—´ ")])],1),e("div",{staticClass:"segment-info"},[e("span",{staticClass:"duration"},[t._v("æ—¶é•¿: "+t._s(t.getSegmentDuration(s)))]),e("span",{staticClass:"status",class:{valid:t.isSegmentValid(s),invalid:!t.isSegmentValid(s)}},[t._v(" "+t._s(t.isSegmentValid(s)?"âœ“ æœ‰æ•ˆ":"âœ— æ— æ•ˆ")+" ")])])]),e("div",{staticClass:"segment-preview"},[e("el-button",{attrs:{size:"small",disabled:!t.isSegmentValid(s),icon:"el-icon-video-play"},on:{click:function(e){return t.previewSegment(s)}}},[t._v(" é¢„è§ˆç‰‡æ®µ ")])],1)])})),e("div",{staticClass:"add-segment"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addSegment}},[t._v(" æ·»åŠ æ—¶é—´æ®µ ")])],1)],2)]):t._e(),t.videoFile?e("div",{staticClass:"modern-card"},[t._m(3),e("div",{staticClass:"output-settings"},[e("div",{staticClass:"setting-item"},[e("label",[t._v("è¾“å‡ºæ ¼å¼")]),e("el-select",{model:{value:t.outputFormat,callback:function(e){t.outputFormat=e},expression:"outputFormat"}},[e("el-option",{attrs:{label:"MP4 (æ¨è)",value:"mp4"}}),e("el-option",{attrs:{label:"WebM",value:"webm"}}),e("el-option",{attrs:{label:"AVI",value:"avi"}})],1)],1),e("div",{staticClass:"setting-item"},[e("label",[t._v("è§†é¢‘è´¨é‡")]),e("el-select",{model:{value:t.videoQuality,callback:function(e){t.videoQuality=e},expression:"videoQuality"}},[e("el-option",{attrs:{label:"é«˜è´¨é‡ (åŸå§‹)",value:"high"}}),e("el-option",{attrs:{label:"ä¸­ç­‰è´¨é‡",value:"medium"}}),e("el-option",{attrs:{label:"ä½è´¨é‡ (å‹ç¼©)",value:"low"}})],1)],1),e("div",{staticClass:"setting-item"},[e("label",[t._v("æ–‡ä»¶å‘½å")]),e("el-radio-group",{model:{value:t.namingMode,callback:function(e){t.namingMode=e},expression:"namingMode"}},[e("el-radio",{attrs:{label:"auto"}},[t._v("è‡ªåŠ¨å‘½å")]),e("el-radio",{attrs:{label:"custom"}},[t._v("è‡ªå®šä¹‰å‰ç¼€")])],1),"custom"===t.namingMode?e("el-input",{staticStyle:{"margin-top":"8px"},attrs:{placeholder:"è¾“å…¥æ–‡ä»¶åå‰ç¼€"},model:{value:t.customPrefix,callback:function(e){t.customPrefix=e},expression:"customPrefix"}}):t._e()],1)])]):t._e(),t.isProcessing?e("div",{staticClass:"modern-card"},[t._m(4),e("div",{staticClass:"progress-info"},[e("el-progress",{attrs:{percentage:t.processingProgress,status:100===t.processingProgress?"success":""}}),e("p",{staticClass:"progress-text"},[t._v(t._s(t.processingText))])],1)]):t._e(),t.videoFile&&!t.isProcessing?e("div",{staticClass:"action-buttons"},[e("el-button",{attrs:{type:"primary",size:"large",disabled:!t.hasValidSegments,icon:"el-icon-scissors"},on:{click:t.startClipping}},[t._v(" å¼€å§‹æˆªå– ")]),e("el-button",{attrs:{size:"large",icon:"el-icon-refresh"},on:{click:t.resetAll}},[t._v(" é‡æ–°å¼€å§‹ ")])],1):t._e(),t._m(5)])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("h1",[t._v("ğŸ¬ è§†é¢‘æˆªå–å·¥å…·")]),e("p",{staticClass:"page-description"},[t._v("ç²¾ç¡®æˆªå–è§†é¢‘ç‰‡æ®µï¼Œæ”¯æŒå¤šä¸ªæ—¶é—´æ®µåŒæ—¶æˆªå–ï¼Œé€‚ç”¨äºè§†é¢‘å‰ªè¾‘ã€ç²¾å½©ç‰‡æ®µæå–ç­‰åœºæ™¯")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h3",[t._v("ğŸ“¤ ä¸Šä¼ è§†é¢‘")]),e("p",[t._v("æ”¯æŒMP4ã€AVIã€MOVã€WebMç­‰æ ¼å¼ï¼Œå»ºè®®æ–‡ä»¶å¤§å°ä¸è¶…è¿‡500MB")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h3",[t._v("â° æˆªå–æ—¶é—´æ®µ")]),e("p",[t._v("è®¾ç½®è¦æˆªå–çš„æ—¶é—´æ®µï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªç‰‡æ®µ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h3",[t._v("âš™ï¸ è¾“å‡ºè®¾ç½®")]),e("p",[t._v("è®¾ç½®è¾“å‡ºè§†é¢‘çš„æ ¼å¼å’Œè´¨é‡")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h3",[t._v("ğŸ”„ å¤„ç†è¿›åº¦")]),e("p",[t._v("æ­£åœ¨æˆªå–è§†é¢‘ç‰‡æ®µï¼Œè¯·ç¨å€™...")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modern-card"},[e("div",{staticClass:"card-header"},[e("h3",[t._v("ğŸ’¡ ä½¿ç”¨è¯´æ˜")])]),e("div",{staticClass:"usage-tips"},[e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ğŸ“¹")]),e("span",{staticClass:"tip-text"},[t._v("ä¸Šä¼ è§†é¢‘æ–‡ä»¶ï¼Œæ”¯æŒå¸¸è§çš„è§†é¢‘æ ¼å¼")])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("â°")]),e("span",{staticClass:"tip-text"},[t._v("è®¾ç½®è¦æˆªå–çš„æ—¶é—´æ®µï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªç‰‡æ®µ")])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ğŸ¯")]),e("span",{staticClass:"tip-text"},[t._v('ä½¿ç”¨"å½“å‰æ—¶é—´"æŒ‰é’®å¿«é€Ÿè®¾ç½®æ’­æ”¾ä½ç½®çš„æ—¶é—´')])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ğŸ‘€")]),e("span",{staticClass:"tip-text"},[t._v("é¢„è§ˆç‰‡æ®µç¡®è®¤æˆªå–èŒƒå›´æ˜¯å¦æ­£ç¡®")])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ğŸ“¦")]),e("span",{staticClass:"tip-text"},[t._v("ä¸€é”®æˆªå–æ‰€æœ‰ç‰‡æ®µï¼Œè‡ªåŠ¨æ‰“åŒ…ä¸‹è½½")])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ğŸ¬")]),e("span",{staticClass:"tip-text"},[t._v("é€‚ç”¨åœºæ™¯ï¼šè§†é¢‘å‰ªè¾‘ã€ç²¾å½©ç‰‡æ®µæå–ã€æ•™å­¦è§†é¢‘åˆ†æ®µ")])])])])}],a=(s(44114),s(14603),s(47566),s(98721),s(75912)),o={name:"VideoClipperView",data(){return{videoFile:null,videoUrl:"",videoDuration:0,currentTime:0,timeSegments:[{startHour:0,startMinute:0,startSecond:0,endHour:0,endMinute:0,endSecond:10}],outputFormat:"mp4",videoQuality:"high",namingMode:"auto",customPrefix:"",isProcessing:!1,processingProgress:0,processingText:"å‡†å¤‡ä¸­..."}},computed:{hasValidSegments(){return this.timeSegments.some((t=>this.isSegmentValid(t)))}},methods:{handleVideoUpload(t){return t.size>524288e3?(this.$message.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡500MB"),!1):(this.videoFile=t,this.videoUrl=URL.createObjectURL(t),!1)},onVideoLoaded(){this.videoDuration=this.$refs.videoPlayer.duration;const t=Math.min(10,this.videoDuration);this.timeSegments[0].endSecond=Math.floor(t%60),this.timeSegments[0].endMinute=Math.floor(t/60)%60,this.timeSegments[0].endHour=Math.floor(t/3600)},onTimeUpdate(){this.currentTime=this.$refs.videoPlayer.currentTime},addSegment(){this.timeSegments.push({startHour:0,startMinute:0,startSecond:0,endHour:0,endMinute:0,endSecond:10})},removeSegment(t){this.timeSegments.length>1&&this.timeSegments.splice(t,1)},setCurrentTime(t,e){const s=this.currentTime,i=Math.floor(s/3600),n=Math.floor(s%3600/60),a=Math.floor(s%60);"start"===e?(this.timeSegments[t].startHour=i,this.timeSegments[t].startMinute=n,this.timeSegments[t].startSecond=a):(this.timeSegments[t].endHour=i,this.timeSegments[t].endMinute=n,this.timeSegments[t].endSecond=a),this.validateSegment(t)},validateSegment(t){const e=this.timeSegments[t];e.startHour=Math.max(0,Math.min(23,e.startHour||0)),e.startMinute=Math.max(0,Math.min(59,e.startMinute||0)),e.startSecond=Math.max(0,Math.min(59,e.startSecond||0)),e.endHour=Math.max(0,Math.min(23,e.endHour||0)),e.endMinute=Math.max(0,Math.min(59,e.endMinute||0)),e.endSecond=Math.max(0,Math.min(59,e.endSecond||0))},isSegmentValid(t){const e=this.getTimeInSeconds(t.startHour,t.startMinute,t.startSecond),s=this.getTimeInSeconds(t.endHour,t.endMinute,t.endSecond);return e<s&&e>=0&&s<=this.videoDuration&&s-e>=1},getTimeInSeconds(t,e,s){return 3600*(t||0)+60*(e||0)+(s||0)},getSegmentDuration(t){if(!this.isSegmentValid(t))return"æ— æ•ˆ";const e=this.getTimeInSeconds(t.startHour,t.startMinute,t.startSecond),s=this.getTimeInSeconds(t.endHour,t.endMinute,t.endSecond),i=s-e;return this.formatTime(i)},previewSegment(t){if(!this.isSegmentValid(t))return;const e=this.getTimeInSeconds(t.startHour,t.startMinute,t.startSecond);this.$refs.videoPlayer.currentTime=e,this.$refs.videoPlayer.play()},async startClipping(){if(this.hasValidSegments){this.isProcessing=!0,this.processingProgress=0,this.processingText="å‡†å¤‡æˆªå–è§†é¢‘...";try{await this.simulateVideoProcessing(),this.$message.success("è§†é¢‘æˆªå–å®Œæˆï¼")}catch(t){console.error("è§†é¢‘æˆªå–å¤±è´¥:",t),this.$message.error("è§†é¢‘æˆªå–å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{this.isProcessing=!1}}else this.$message.error("è¯·è®¾ç½®æœ‰æ•ˆçš„æ—¶é—´æ®µ")},async simulateVideoProcessing(){const t=this.timeSegments.filter((t=>this.isSegmentValid(t)));for(let e=0;e<t.length;e++)this.processingText=`æ­£åœ¨å¤„ç†ç‰‡æ®µ ${e+1}/${t.length}...`,await new Promise((t=>setTimeout(t,2e3))),this.processingProgress=Math.round((e+1)/t.length*100);this.processingText="å¤„ç†å®Œæˆï¼"},resetAll(){this.videoFile=null,this.videoUrl="",this.videoDuration=0,this.currentTime=0,this.timeSegments=[{startHour:0,startMinute:0,startSecond:0,endHour:0,endMinute:0,endSecond:10}],this.outputFormat="mp4",this.videoQuality="high",this.namingMode="auto",this.customPrefix="",this.isProcessing=!1,this.processingProgress=0,this.processingText="å‡†å¤‡ä¸­..."},formatTime(t){if(!t||t<0)return"00:00:00";const e=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60);return`${e.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},formatFileSize(t){return a.A.formatBytes(t)}}},r=o,l=s(81656),c=(0,l.A)(r,i,n,!1,null,"ea7566da",null),d=c.exports},75912:function(t,e,s){s(16280),s(14603),s(47566),s(98721);var i=s(44813),n=s.n(i);class a{static formatBytes(t){if(0===t)return"0 Bytes";const e=1024,s=["Bytes","KB","MB","GB","TB"],i=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,i)).toFixed(2))+" "+s[i]}static getFileExtension(t){return t.slice(2+(t.lastIndexOf(".")-1>>>0))}static getExt(t){return t.split(".").pop().toLowerCase()}static getFileNameWithoutExtension(t){return t.replace(/\.[^/.]+$/,"")}static getBaseName(t){const e=-1===t.lastIndexOf(".")?t:t.substring(0,t.lastIndexOf("."));return e}static isImageFile(t){const e=["jpg","jpeg","png","gif","bmp","webp","svg"],s=this.getFileExtension(t).toLowerCase();return e.includes(s)}static isVideoFile(t){const e=["mp4","avi","mov","wmv","flv","webm","mkv"],s=this.getFileExtension(t).toLowerCase();return e.includes(s)}static isAudioFile(t){const e=["mp3","wav","flac","aac","ogg","wma"],s=this.getFileExtension(t).toLowerCase();return e.includes(s)}static isDocumentFile(t){const e=["pdf","doc","docx","xls","xlsx","ppt","pptx","txt"],s=this.getFileExtension(t).toLowerCase();return e.includes(s)}static generateUniqueFileName(t){const e=Date.now(),s=Math.random().toString(36).substring(2,8),i=this.getFileExtension(t),n=this.getFileNameWithoutExtension(t);return`${n}_${e}_${s}.${i}`}static fileToBase64(t){return new Promise(((e,s)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(i.result),i.onerror=t=>s(t)}))}static downloadFile(t,e){const s=document.createElement("a");s.href=t,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s)}static blobToFile(t,e){return new File([t],e,{type:t.type})}static fileToBlob(t){return t instanceof Blob?t:new Blob([t],{type:t.type})}static isBlob(t){return t instanceof Blob}static async getBlobByUrl(t){if(a.isBlob(t))return t;try{const e=await fetch(t);if(!e.ok)throw new Error("Network response was not ok: "+e.statusText);return await e.blob()}catch(e){throw console.error("Error fetching the blob:",e),e}}static async download(t,e){let s=null;s=a.isBlob(t)?t:await a.getBlobByUrl(t);const i=URL.createObjectURL(s),n=document.createElement("a");n.href=i,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)}static async downloadAsZip(t,e=(new Date).getTime()+".zip",s="file_url",i="save_name"){const o=new(n());for(const n of t){const t=await a.getBlobByUrl(n[s]);o.file(n[i],t)}try{const t=await o.generateAsync({type:"blob"});await a.download(t,e)}catch(r){console.error("Error while generating zip:",r)}}static compressImage(t,e=.8,s=1920,i=1080){return new Promise((n=>{const a=document.createElement("canvas"),o=a.getContext("2d"),r=new Image;r.onload=()=>{let{width:l,height:c}=r;l>s&&(c=c*s/l,l=s),c>i&&(l=l*i/c,c=i),a.width=l,a.height=c,o.drawImage(r,0,0,l,c),a.toBlob((e=>{const s=new File([e],t.name,{type:t.type,lastModified:Date.now()});n(s)}),t.type,e)},r.src=URL.createObjectURL(t)}))}}e.A=a}}]);
//# sourceMappingURL=2671.8ec8bfe6.js.map