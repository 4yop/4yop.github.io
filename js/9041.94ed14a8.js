"use strict";(self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[]).push([[9041],{49041:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modern-bg"},[e("el-row",{attrs:{gutter:0,justify:"center"}},[e("el-col",{attrs:{xs:{span:24,offset:0},sm:{span:22,offset:1},md:{span:18,offset:3},lg:{span:14,offset:5},xl:{span:12,offset:6}}},[e("el-card",{staticClass:"modern-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"page-header"},[e("h1",{staticClass:"modern-title"},[t._v("âœ‚ï¸ å›¾ç‰‡åˆ‡å‰²å·¥å…·")]),e("p",{staticClass:"page-description"},[t._v("å°†é•¿å›¾æ¨ªå‘åˆ‡å‰²æˆå¤šä¸ªéƒ¨åˆ†ï¼Œæ”¯æŒè‡ªå®šä¹‰åˆ‡å‰²æ•°é‡å’Œå°ºå¯¸ï¼Œé€‚ç”¨äºŽç”µå•†è¯¦æƒ…é¡µã€é•¿å›¾åˆ†äº«ç­‰åœºæ™¯")])]),e("div",{staticClass:"modern-card"},[e("div",{staticClass:"card-header"},[e("h3",[t._v("ðŸ“¤ ä¸Šä¼ å›¾ç‰‡")]),e("p",[t._v("æ”¯æŒJPGã€PNGã€WebPç­‰æ ¼å¼ï¼Œå»ºè®®ä¸Šä¼ é•¿å›¾æ•ˆæžœæ›´ä½³")])]),e("el-upload",{staticClass:"upload-area",attrs:{drag:"",action:"","show-file-list":!1,"before-upload":t.handleImageUpload,accept:"image/*"}},[t.originalImage?e("div",{staticClass:"uploaded-image"},[e("img",{attrs:{src:t.originalImage,alt:"åŽŸå›¾"}}),e("div",{staticClass:"image-info"},[e("p",[t._v("å°ºå¯¸: "+t._s(t.imageInfo.width)+" Ã— "+t._s(t.imageInfo.height))]),e("p",[t._v("å¤§å°: "+t._s(t.formatFileSize(t.imageInfo.size)))])])]):e("div",{staticClass:"upload-content"},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"upload-text"},[t._v("å°†å›¾ç‰‡æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),e("em",[t._v("ç‚¹å‡»ä¸Šä¼ ")])]),e("div",{staticClass:"upload-hint"},[t._v("æ”¯æŒ JPGã€PNGã€WebP æ ¼å¼")])])])],1),t.originalImage?e("div",{staticClass:"modern-card"},[e("div",{staticClass:"card-header"},[e("h3",[t._v("âš™ï¸ åˆ‡å‰²è®¾ç½®")]),e("p",[t._v("è®¾ç½®åˆ‡å‰²å‚æ•°ï¼Œé¢„è§ˆåˆ‡å‰²æ•ˆæžœ")])]),e("div",{staticClass:"settings-grid"},[e("div",{staticClass:"setting-item"},[e("label",[t._v("åˆ‡å‰²æ–¹å¼")]),e("el-radio-group",{on:{change:t.updatePreview},model:{value:t.sliceMode,callback:function(e){t.sliceMode=e},expression:"sliceMode"}},[e("el-radio",{attrs:{label:"count"}},[t._v("æŒ‰æ•°é‡åˆ‡å‰²")]),e("el-radio",{attrs:{label:"height"}},[t._v("æŒ‰é«˜åº¦åˆ‡å‰²")])],1)],1),"count"===t.sliceMode?e("div",{staticClass:"setting-item"},[e("label",[t._v("åˆ‡å‰²æ•°é‡")]),e("el-input-number",{attrs:{min:2,max:1e4},on:{change:t.updatePreview},model:{value:t.sliceCount,callback:function(e){t.sliceCount=e},expression:"sliceCount"}}),e("span",{staticClass:"setting-hint"},[t._v("å°†å›¾ç‰‡å¹³å‡åˆ†æˆå‡ éƒ¨åˆ†")])],1):t._e(),"height"===t.sliceMode?e("div",{staticClass:"setting-item"},[e("label",[t._v("æ¯ç‰‡é«˜åº¦ (px)")]),e("el-input-number",{attrs:{min:100,max:2e3,step:50},on:{change:t.updatePreview},model:{value:t.sliceHeight,callback:function(e){t.sliceHeight=e},expression:"sliceHeight"}}),e("span",{staticClass:"setting-hint"},[t._v("æ¯ä¸ªåˆ‡ç‰‡çš„é«˜åº¦")])],1):t._e(),e("div",{staticClass:"setting-item"},[e("label",[t._v("è¾“å‡ºæ ¼å¼")]),e("el-select",{on:{change:t.updatePreview},model:{value:t.outputFormat,callback:function(e){t.outputFormat=e},expression:"outputFormat"}},[e("el-option",{attrs:{label:"ä¿æŒåŽŸæ ¼å¼",value:"original"}}),e("el-option",{attrs:{label:"JPG",value:"jpg"}}),e("el-option",{attrs:{label:"PNG",value:"png"}}),e("el-option",{attrs:{label:"WebP",value:"webp"}})],1)],1),"jpg"===t.outputFormat?e("div",{staticClass:"setting-item"},[e("label",[t._v("JPGè´¨é‡")]),e("el-slider",{attrs:{min:10,max:100,step:5,"show-input":""},on:{change:t.updatePreview},model:{value:t.jpgQuality,callback:function(e){t.jpgQuality=e},expression:"jpgQuality"}})],1):t._e()])]):t._e(),t.slicePreviews.length>0?e("div",{staticClass:"modern-card"},[e("div",{staticClass:"card-header"},[e("h3",[t._v("ðŸ‘€ åˆ‡å‰²é¢„è§ˆ")]),e("p",[t._v("é¢„è§ˆåˆ‡å‰²æ•ˆæžœï¼Œå…± "+t._s(t.slicePreviews.length)+" ä¸ªåˆ‡ç‰‡")])]),e("div",{staticClass:"preview-grid"},t._l(t.slicePreviews,(function(i,s){return e("div",{key:s,staticClass:"preview-item"},[e("div",{staticClass:"preview-image"},[e("img",{attrs:{src:i.dataUrl,alt:`åˆ‡ç‰‡ ${s+1}`}}),e("div",{staticClass:"preview-overlay"},[e("span",{staticClass:"preview-index"},[t._v(t._s(s+1))])])]),e("div",{staticClass:"preview-info"},[e("p",[t._v("å°ºå¯¸: "+t._s(i.width)+" Ã— "+t._s(i.height))]),e("p",[t._v("å¤§å°: "+t._s(t.formatFileSize(i.size)))])])])})),0)]):t._e(),t.slicePreviews.length>0?e("div",{staticClass:"action-buttons"},[e("el-button",{attrs:{type:"primary",size:"large",loading:t.isProcessing,icon:"el-icon-download"},on:{click:t.downloadAll}},[t._v(" "+t._s(t.isProcessing?"å¤„ç†ä¸­...":"æ‰“åŒ…ä¸‹è½½å…¨éƒ¨")+" ")]),e("el-button",{attrs:{size:"large",disabled:t.isProcessing,icon:"el-icon-folder-opened"},on:{click:t.downloadSingle}},[t._v(" å•ç‹¬ä¸‹è½½ ")]),e("el-button",{attrs:{size:"large",disabled:t.isProcessing,icon:"el-icon-refresh"},on:{click:t.resetAll}},[t._v(" é‡æ–°å¼€å§‹ ")])],1):t._e(),e("div",{staticClass:"modern-card"},[e("div",{staticClass:"card-header"},[e("h3",[t._v("ðŸ’¡ ä½¿ç”¨è¯´æ˜Ž")])]),e("div",{staticClass:"usage-tips"},[e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ðŸ“·")]),e("span",{staticClass:"tip-text"},[t._v("ä¸Šä¼ é•¿å›¾ï¼Œå¦‚ç”µå•†è¯¦æƒ…é¡µã€äº§å“ä»‹ç»å›¾ç­‰")])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("âœ‚ï¸")]),e("span",{staticClass:"tip-text"},[t._v("é€‰æ‹©åˆ‡å‰²æ–¹å¼ï¼šæŒ‰æ•°é‡å¹³å‡åˆ‡å‰²æˆ–æŒ‰å›ºå®šé«˜åº¦åˆ‡å‰²")])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ðŸŽ¯")]),e("span",{staticClass:"tip-text"},[t._v("é¢„è§ˆåˆ‡å‰²æ•ˆæžœï¼Œè°ƒæ•´å‚æ•°ç›´åˆ°æ»¡æ„")])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ðŸ“¦")]),e("span",{staticClass:"tip-text"},[t._v("ä¸€é”®æ‰“åŒ…ä¸‹è½½æ‰€æœ‰åˆ‡ç‰‡ï¼Œæˆ–å•ç‹¬ä¸‹è½½æŒ‡å®šåˆ‡ç‰‡")])]),e("div",{staticClass:"tip-item"},[e("span",{staticClass:"tip-icon"},[t._v("ðŸ›’")]),e("span",{staticClass:"tip-text"},[t._v("é€‚ç”¨åœºæ™¯ï¼šç”µå•†è¯¦æƒ…é¡µåˆ‡å‰²ã€é•¿å›¾åˆ†äº«ã€ç¤¾äº¤åª’ä½“å‘å¸ƒ")])])])])])],1)],1)],1)},a=[],o=(i(44114),i(44813)),n=i.n(o),l=i(95866),c=i(75912),r={name:"ImageSlicerView",metaInfo:{title:"å›¾ç‰‡åˆ‡å‰²å·¥å…· - åœ¨çº¿é•¿å›¾æ¨ªå‘åˆ†å‰²ï¼Œç”µå•†è¯¦æƒ…é¡µ/ç¤¾äº¤åˆ†äº«å›¾åˆ¶ä½œ | å…è´¹åˆ‡å‰²å°ºå¯¸è‡ªå®šä¹‰",meta:[{name:"description",content:"å…è´¹åœ¨çº¿å›¾ç‰‡åˆ‡å‰²å·¥å…·ï¼Œä¸“æ³¨äºŽé•¿å›¾æ¨ªå‘åˆ†å‰²ã€‚æ”¯æŒè‡ªå®šä¹‰åˆ‡å‰²æ•°é‡å’Œæ¯å¼ å›¾ç‰‡çš„å°ºå¯¸ï¼Œå®Œç¾Žé€‚é…æ·˜å®ã€äº¬ä¸œç­‰ç”µå•†è¯¦æƒ…é¡µåˆ¶ä½œï¼Œä»¥åŠç¤¾äº¤åª’ä½“é•¿å›¾åˆ†äº«çš„æ‰¹é‡åˆ‡å‰²éœ€æ±‚ã€‚"},{name:"keywords",content:"å›¾ç‰‡åˆ‡å‰²å·¥å…·, é•¿å›¾åˆ†å‰², åœ¨çº¿å›¾ç‰‡åˆ‡å‰², ç”µå•†è¯¦æƒ…é¡µåˆ¶ä½œ, ç¤¾äº¤åª’ä½“é•¿å›¾, æ¨ªå‘åˆ‡å‰²å›¾ç‰‡, æ‰¹é‡å›¾ç‰‡åˆ‡å‰², å…è´¹å›¾ç‰‡è£å‰ª"}]},data(){return{originalImage:null,imageInfo:{width:0,height:0,size:0},sliceMode:"count",sliceCount:4,sliceHeight:500,outputFormat:"original",jpgQuality:85,slicePreviews:[],isProcessing:!1,canvas:null,ctx:null}},mounted(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")},methods:{handleImageUpload(t){const e=new FileReader;return e.onload=e=>{const i=new Image;i.onload=()=>{this.originalImage=e.target.result,this.imageInfo={width:i.width,height:i.height,size:t.size},this.updatePreview()},i.src=e.target.result},e.readAsDataURL(t),!1},updatePreview(){if(!this.originalImage)return;const t=new Image;t.onload=()=>{this.generateSlices(t)},t.src=this.originalImage},generateSlices(t){const e=[],{width:i,height:s}=t;let a,o;"count"===this.sliceMode?(o=this.sliceCount,a=Math.floor(s/o)):(a=this.sliceHeight,o=Math.ceil(s/a));for(let n=0;n<o;n++){const o=n*a,l=Math.min(a,s-o);if(l<=0)break;this.canvas.width=i,this.canvas.height=l,this.ctx.drawImage(t,0,o,i,l,0,0,i,l);let c="original"===this.outputFormat?this.getOriginalFormat():`image/${this.outputFormat}`,r="image/jpeg"===c?this.jpgQuality/100:void 0;const d=this.canvas.toDataURL(c,r),g=d.split(",")[1].length,h=Math.round(.75*g);e.push({dataUrl:d,width:i,height:l,size:h,index:n+1})}this.slicePreviews=e},getOriginalFormat(){return this.originalImage.includes("data:image/png")?"image/png":this.originalImage.includes("data:image/webp")?"image/webp":"image/jpeg"},async downloadAll(){if(0!==this.slicePreviews.length){this.isProcessing=!0;try{const t=new(n()),e=t.folder("image-slices");for(let s=0;s<this.slicePreviews.length;s++){const t=this.slicePreviews[s],i=t.dataUrl.split(",")[1],a=this.getFileExtension();e.file(`slice-${String(s+1).padStart(2,"0")}.${a}`,i,{base64:!0})}const i=await t.generateAsync({type:"blob"});l.A.downloadBlob(i,"image-slices.zip"),this.$message.success(`æˆåŠŸæ‰“åŒ… ${this.slicePreviews.length} ä¸ªåˆ‡ç‰‡`)}catch(t){console.error("æ‰“åŒ…å¤±è´¥:",t),this.$message.error("æ‰“åŒ…å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{this.isProcessing=!1}}},downloadSingle(){this.slicePreviews.forEach(((t,e)=>{const i=this.getFileExtension(),s=`slice-${String(e+1).padStart(2,"0")}.${i}`;l.A.downloadImage(t.dataUrl,s)})),this.$message.success(`å¼€å§‹ä¸‹è½½ ${this.slicePreviews.length} ä¸ªåˆ‡ç‰‡`)},getFileExtension(){return"original"===this.outputFormat?this.originalImage.includes("data:image/png")?"png":this.originalImage.includes("data:image/webp")?"webp":"jpg":"jpg"===this.outputFormat?"jpg":this.outputFormat},resetAll(){this.originalImage=null,this.imageInfo={width:0,height:0,size:0},this.slicePreviews=[],this.sliceMode="count",this.sliceCount=4,this.sliceHeight=500,this.outputFormat="original",this.jpgQuality=85},formatFileSize(t){return c.A.formatBytes(t)}}},d=r,g=i(81656),h=(0,g.A)(d,s,a,!1,null,"676f0f9b",null),p=h.exports},95866:function(t,e,i){i(16280),i(14603),i(47566),i(98721);class s{static downloadText(t,e,i="text/plain"){const s=new Blob([t],{type:i});this.downloadBlob(s,e)}static downloadJSON(t,e="data.json"){const i=JSON.stringify(t,null,2);this.downloadText(i,e,"application/json")}static downloadCSV(t,e="data.csv",i=null){let s="";i&&i.length>0&&(s+=i.join(",")+"\n"),t.forEach((t=>{if(Array.isArray(t))s+=t.map((t=>`"${t}"`)).join(",")+"\n";else if("object"===typeof t){const e=i?i.map((e=>t[e]||"")):Object.values(t);s+=e.map((t=>`"${t}"`)).join(",")+"\n"}}));const a="\ufeff";this.downloadText(a+s,e,"text/csv;charset=utf-8")}static downloadImage(t,e="image.png"){const i=document.createElement("a");i.download=e,i.href=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}static downloadCanvas(t,e="canvas.png",i="image/png",s=1){const a=t.toDataURL(i,s);this.downloadImage(a,e)}static downloadBlob(t,e){const i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}static downloadURL(t,e){const i=document.createElement("a");i.href=t,i.download=e,i.target="_blank",document.body.appendChild(i),i.click(),document.body.removeChild(i)}static async downloadZip(t,e="files.zip"){const s=(await i.e(4813).then(i.t.bind(i,44813,23))).default,a=new s;t.forEach((t=>{t.content,Blob,a.file(t.name,t.content)}));try{const t=await a.generateAsync({type:"blob"});return this.downloadBlob(t,e),!0}catch(o){return console.error("ç”ŸæˆZIPæ–‡ä»¶å¤±è´¥:",o),!1}}static async fetchBlob(t){try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.blob()}catch(e){throw console.error("èŽ·å–æ–‡ä»¶å¤±è´¥:",e),e}}static generateTimestampFilename(t,e){const i=(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5);return`${t}_${i}.${e}`}static formatFileSize(t){if(0===t)return"0 Bytes";const e=1024,i=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,s)).toFixed(2))+" "+i[s]}}e.A=s},75912:function(t,e,i){i(16280),i(14603),i(47566),i(98721);var s=i(44813),a=i.n(s);class o{static formatBytes(t){if(0===t)return"0 Bytes";const e=1024,i=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,s)).toFixed(2))+" "+i[s]}static getFileExtension(t){return t.slice(2+(t.lastIndexOf(".")-1>>>0))}static getExt(t){return t.split(".").pop().toLowerCase()}static getFileNameWithoutExtension(t){return t.replace(/\.[^/.]+$/,"")}static getBaseName(t){const e=-1===t.lastIndexOf(".")?t:t.substring(0,t.lastIndexOf("."));return e}static isImageFile(t){const e=["jpg","jpeg","png","gif","bmp","webp","svg"],i=this.getFileExtension(t).toLowerCase();return e.includes(i)}static isVideoFile(t){const e=["mp4","avi","mov","wmv","flv","webm","mkv"],i=this.getFileExtension(t).toLowerCase();return e.includes(i)}static isAudioFile(t){const e=["mp3","wav","flac","aac","ogg","wma"],i=this.getFileExtension(t).toLowerCase();return e.includes(i)}static isDocumentFile(t){const e=["pdf","doc","docx","xls","xlsx","ppt","pptx","txt"],i=this.getFileExtension(t).toLowerCase();return e.includes(i)}static generateUniqueFileName(t){const e=Date.now(),i=Math.random().toString(36).substring(2,8),s=this.getFileExtension(t),a=this.getFileNameWithoutExtension(t);return`${a}_${e}_${i}.${s}`}static fileToBase64(t){return new Promise(((e,i)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=()=>e(s.result),s.onerror=t=>i(t)}))}static downloadFile(t,e){const i=document.createElement("a");i.href=t,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}static blobToFile(t,e){return new File([t],e,{type:t.type})}static fileToBlob(t){return t instanceof Blob?t:new Blob([t],{type:t.type})}static isBlob(t){return t instanceof Blob}static async getBlobByUrl(t){if(o.isBlob(t))return t;try{const e=await fetch(t);if(!e.ok)throw new Error("Network response was not ok: "+e.statusText);return await e.blob()}catch(e){throw console.error("Error fetching the blob:",e),e}}static async download(t,e){let i=null;i=o.isBlob(t)?t:await o.getBlobByUrl(t);const s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}static async downloadAsZip(t,e=(new Date).getTime()+".zip",i="file_url",s="save_name"){const n=new(a());for(const a of t){const t=await o.getBlobByUrl(a[i]);n.file(a[s],t)}try{const t=await n.generateAsync({type:"blob"});await o.download(t,e)}catch(l){console.error("Error while generating zip:",l)}}static compressImage(t,e=.8,i=1920,s=1080){return new Promise((a=>{const o=document.createElement("canvas"),n=o.getContext("2d"),l=new Image;l.onload=()=>{let{width:c,height:r}=l;c>i&&(r=r*i/c,c=i),r>s&&(c=c*s/r,r=s),o.width=c,o.height=r,n.drawImage(l,0,0,c,r),o.toBlob((e=>{const i=new File([e],t.name,{type:t.type,lastModified:Date.now()});a(i)}),t.type,e)},l.src=URL.createObjectURL(t)}))}}e.A=o}}]);
//# sourceMappingURL=9041.94ed14a8.js.map