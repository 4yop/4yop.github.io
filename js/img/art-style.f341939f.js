(function(){"use strict";var t={35202:function(t,e,a){var i=a(66848),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modern-bg"},[e("el-row",{attrs:{gutter:0,justify:"center"}},[e("el-col",{attrs:{xs:{span:24,offset:0},sm:{span:22,offset:1},md:{span:18,offset:3},lg:{span:14,offset:5},xl:{span:12,offset:6}}},[e("el-card",{staticClass:"modern-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"upload-row"},[e("el-upload",{attrs:{action:"#","auto-upload":!1,multiple:!1,"show-file-list":!1,accept:"image/*","on-change":t.handleUploadChange,disabled:t.loading}},[e("el-button",{attrs:{type:"primary",round:"",disabled:t.loading}},[t._v("选择图片")])],1),e("el-select",{staticStyle:{width:"160px"},attrs:{disabled:t.loading,filterable:""},model:{value:t.style,callback:function(e){t.style=e},expression:"style"}},t._l(t.styleOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),"pixelate"===t.style?e("el-slider",{staticStyle:{width:"140px"},attrs:{min:2,max:50,step:1,disabled:t.loading},model:{value:t.blockSize,callback:function(e){t.blockSize=e},expression:"blockSize"}}):t._e(),"sketch"===t.style?e("el-slider",{staticStyle:{width:"140px"},attrs:{min:.5,max:3,step:.1,disabled:t.loading},model:{value:t.edgeStrength,callback:function(e){t.edgeStrength=e},expression:"edgeStrength"}}):t._e(),"sepia"===t.style?e("el-slider",{staticStyle:{width:"120px"},attrs:{min:.1,max:1,step:.05,disabled:t.loading},model:{value:t.sepiaStrength,callback:function(e){t.sepiaStrength=e},expression:"sepiaStrength"}}):t._e(),"emboss"===t.style?e("el-slider",{staticStyle:{width:"120px"},attrs:{min:.5,max:2,step:.05,disabled:t.loading},model:{value:t.embossStrength,callback:function(e){t.embossStrength=e},expression:"embossStrength"}}):t._e(),"blur"===t.style?e("el-slider",{staticStyle:{width:"120px"},attrs:{min:1,max:10,step:1,disabled:t.loading},model:{value:t.blurRadius,callback:function(e){t.blurRadius=e},expression:"blurRadius"}}):t._e(),"oil"===t.style?e("el-slider",{staticStyle:{width:"120px"},attrs:{min:2,max:20,step:1,disabled:t.loading},model:{value:t.oilBlockSize,callback:function(e){t.oilBlockSize=e},expression:"oilBlockSize"}}):t._e(),"mosaic"===t.style?e("el-slider",{staticStyle:{width:"120px"},attrs:{min:4,max:40,step:1,disabled:t.loading},model:{value:t.mosaicBlockSize,callback:function(e){t.mosaicBlockSize=e},expression:"mosaicBlockSize"}}):t._e(),"highcontrast"===t.style?e("el-slider",{staticStyle:{width:"120px"},attrs:{min:1,max:10,step:.1,disabled:t.loading},model:{value:t.contrastLevel,callback:function(e){t.contrastLevel=e},expression:"contrastLevel"}}):t._e(),e("el-button",{attrs:{type:"success",round:"",disabled:!t.file||t.loading},on:{click:t.handleProcess}},[t._v("一键生成")]),t.resultUrl?e("el-button",{attrs:{type:"primary",size:"mini",disabled:t.loading},on:{click:t.handleDownload}},[t._v("下载图片")]):t._e()],1),t.loading||t.progress>0?e("el-progress",{staticStyle:{margin:"16px 0"},attrs:{percentage:t.progress,status:"success","stroke-width":16,"text-inside":""}}):t._e(),t.error?e("div",{staticStyle:{color:"#f56c6c",margin:"12px 0","text-align":"center"}},[t._v(t._s(t.error))]):t._e(),e("el-row",{staticStyle:{"margin-top":"24px"},attrs:{gutter:16}},[e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{"text-align":"center"}},[e("div",{staticStyle:{"font-weight":"600","margin-bottom":"8px"}},[t._v("原图预览")]),t.imgUrl?e("el-image",{staticStyle:{"max-width":"100%","max-height":"320px","border-radius":"10px","box-shadow":"0 2px 8px rgba(0,0,0,0.08)"},attrs:{src:t.imgUrl,"preview-src-list":t.loading?[]:[t.imgUrl,t.resultUrl],fit:"contain"}}):e("div",{staticStyle:{color:"#ccc"}},[t._v("请上传图片")])],1)]),e("el-col",{staticStyle:{position:"relative"},attrs:{span:12}},[e("div",{staticStyle:{"text-align":"center"}},[e("div",{staticStyle:{"font-weight":"600","margin-bottom":"8px"}},[t._v("风格化预览")]),t.resultUrl?e("el-image",{staticStyle:{"max-width":"100%","border-radius":"10px","box-shadow":"0 2px 8px rgba(0,0,0,0.08)",background:"#f0f9eb"},attrs:{src:t.resultUrl,fit:"contain","preview-src-list":t.loading?[]:[t.resultUrl,t.imgUrl]}}):t._e()],1)])],1)],1)],1)],1)],1)},r=[],o=(a(16573),a(78100),a(77936),a(48140),a(21903),a(91134),a(28845),a(37467),a(44732),a(79577),a(14603),a(47566),a(98721),a(95866)),l={name:"ArtStyleView",metaInfo:{title:"在线图片风格化 - 艺术滤镜转化照片",meta:[{name:"description",content:"将普通照片转换为艺术风格，如素描、水彩、油画风等，快速生成独特图像效果。"},{name:"keywords",content:"图片风格化,艺术滤镜,照片转画,在线风格转换,图像艺术化"}]},data(){return{file:null,imgUrl:"",resultUrl:"",style:"pixelate",blockSize:10,edgeStrength:1,loading:!1,progress:0,progressText:"",error:"",sepiaStrength:1,embossStrength:1,blurRadius:2,oilBlockSize:6,mosaicBlockSize:12,contrastLevel:2}},computed:{styleOptions(){return[{label:"像素化风格",value:"pixelate"},{label:"素描/边缘检测",value:"sketch"},{label:"灰度",value:"grayscale"},{label:"反色",value:"invert"},{label:"怀旧",value:"sepia"},{label:"浮雕",value:"emboss"},{label:"模糊",value:"blur"},{label:"油画",value:"oil"},{label:"马赛克",value:"mosaic"},{label:"高对比",value:"highcontrast"}]}},methods:{handleUploadChange(t,e){e.length>0?(this.file=e[e.length-1].raw||e[e.length-1],this.imgUrl=URL.createObjectURL(this.file),this.resultUrl="",this.error=""):(this.file=null,this.imgUrl="",this.resultUrl="",this.error="")},async handleProcess(){if(this.file){this.loading=!0,this.progress=0,this.progressText="处理中...",this.error="";try{let t="";switch(this.style){case"pixelate":t=await this.pixelateImage(this.file,this.blockSize);break;case"sketch":t=await this.sketchImage(this.file,this.edgeStrength);break;case"grayscale":t=await this.grayscaleImage(this.file);break;case"invert":t=await this.invertImage(this.file);break;case"sepia":t=await this.sepiaImage(this.file,this.sepiaStrength);break;case"emboss":t=await this.embossImage(this.file,this.embossStrength);break;case"blur":t=await this.blurImage(this.file,this.blurRadius);break;case"oil":t=await this.oilImage(this.file,this.oilBlockSize);break;case"mosaic":t=await this.mosaicImage(this.file,this.mosaicBlockSize);break;case"highcontrast":t=await this.highContrastImage(this.file,this.contrastLevel);break}this.resultUrl=t}catch(t){this.error="处理失败："+(t.message||t)}this.loading=!1,this.progress=0,this.progressText=""}},async pixelateImage(t,e){const a=await this.loadImageFromFile(t),i=a.width,n=a.height,r=document.createElement("canvas");r.width=i,r.height=n;const o=r.getContext("2d");return o.imageSmoothingEnabled=!1,o.clearRect(0,0,i,n),o.drawImage(a,0,0,i/e,n/e),o.drawImage(r,0,0,i/e,n/e,0,0,i,n),r.toDataURL("image/png")},async sketchImage(t,e){const a=await this.loadImageFromFile(t),i=a.width,n=a.height,r=document.createElement("canvas");r.width=i,r.height=n;const o=r.getContext("2d");o.drawImage(a,0,0,i,n);let l=o.getImageData(0,0,i,n);for(let g=0;g<l.data.length;g+=4){const t=(l.data[g]+l.data[g+1]+l.data[g+2])/3;l.data[g]=l.data[g+1]=l.data[g+2]=t}const s=[-1,0,1,-2,0,2,-1,0,1],c=[-1,-2,-1,0,0,0,1,2,1],d=l.data,u=new Uint8ClampedArray(d.length);for(let g=1;g<n-1;g++)for(let t=1;t<i-1;t++){let a=0,n=0;for(let e=-1;e<=1;e++)for(let r=-1;r<=1;r++){const o=4*((g+e)*i+(t+r)),l=d[o],u=3*(e+1)+(r+1);a+=s[u]*l,n+=c[u]*l}const r=Math.sqrt(a*a+n*n)*e,o=4*(g*i+t);u[o]=u[o+1]=u[o+2]=255-Math.min(255,r),u[o+3]=255}return l.data.set(u),o.putImageData(l,0,0),r.toDataURL("image/png")},async grayscaleImage(t){const e=await this.loadImageFromFile(t),a=e.width,i=e.height,n=document.createElement("canvas");n.width=a,n.height=i;const r=n.getContext("2d");r.drawImage(e,0,0,a,i);let o=r.getImageData(0,0,a,i);for(let l=0;l<o.data.length;l+=4){const t=(o.data[l]+o.data[l+1]+o.data[l+2])/3;o.data[l]=o.data[l+1]=o.data[l+2]=t}return r.putImageData(o,0,0),n.toDataURL("image/png")},async invertImage(t){const e=await this.loadImageFromFile(t),a=e.width,i=e.height,n=document.createElement("canvas");n.width=a,n.height=i;const r=n.getContext("2d");r.drawImage(e,0,0,a,i);let o=r.getImageData(0,0,a,i);for(let l=0;l<o.data.length;l+=4)o.data[l]=255-o.data[l],o.data[l+1]=255-o.data[l+1],o.data[l+2]=255-o.data[l+2];return r.putImageData(o,0,0),n.toDataURL("image/png")},async sepiaImage(t,e=1){const a=await this.loadImageFromFile(t),i=a.width,n=a.height,r=document.createElement("canvas");r.width=i,r.height=n;const o=r.getContext("2d");o.drawImage(a,0,0,i,n);let l=o.getImageData(0,0,i,n);for(let s=0;s<l.data.length;s+=4){const t=l.data[s],a=l.data[s+1],i=l.data[s+2];l.data[s]=Math.min(255,t*(1-.607*e)+.769*a*e+.189*i*e),l.data[s+1]=Math.min(255,.349*t*e+a*(1-.314*e)+.168*i*e),l.data[s+2]=Math.min(255,.272*t*e+.534*a*e+i*(1-.869*e))}return o.putImageData(l,0,0),r.toDataURL("image/png")},async embossImage(t,e=1){const a=await this.loadImageFromFile(t),i=a.width,n=a.height,r=document.createElement("canvas");r.width=i,r.height=n;const o=r.getContext("2d");o.drawImage(a,0,0,i,n);let l=o.getImageData(0,0,i,n);const s=l.data;for(let c=1;c<n;c++)for(let t=1;t<i;t++){const a=4*(c*i+t),n=4*((c-1)*i+(t-1));for(let t=0;t<3;t++){const i=s[a+t]-s[n+t]+128;s[a+t]=Math.max(0,Math.min(255,i*e))}}return o.putImageData(l,0,0),r.toDataURL("image/png")},async blurImage(t,e=2){const a=await this.loadImageFromFile(t),i=a.width,n=a.height,r=document.createElement("canvas");r.width=i,r.height=n;const o=r.getContext("2d");return o.filter=`blur(${e}px)`,o.drawImage(a,0,0,i,n),o.filter="none",r.toDataURL("image/png")},async oilImage(t,e=6){const a=await this.loadImageFromFile(t),i=a.width,n=a.height,r=document.createElement("canvas");r.width=i,r.height=n;const o=r.getContext("2d");o.drawImage(a,0,0,i,n);let l=o.getImageData(0,0,i,n);const s=l.data;for(let c=0;c<n;c+=e)for(let t=0;t<i;t+=e){const a={};let n=0,r=[0,0,0];for(let o=0;o<e;o++)for(let l=0;l<e;l++){const e=4*((c+o)*i+(t+l));if(e>=s.length)continue;const d=`${s[e]},${s[e+1]},${s[e+2]}`;a[d]=(a[d]||0)+1,a[d]>n&&(n=a[d],r=[s[e],s[e+1],s[e+2]])}for(let o=0;o<e;o++)for(let a=0;a<e;a++){const e=4*((c+o)*i+(t+a));e>=s.length||(s[e]=r[0],s[e+1]=r[1],s[e+2]=r[2])}}return o.putImageData(l,0,0),r.toDataURL("image/png")},async mosaicImage(t,e=12){const a=await this.loadImageFromFile(t),i=a.width,n=a.height,r=document.createElement("canvas");r.width=i,r.height=n;const o=r.getContext("2d");o.drawImage(a,0,0,i,n);let l=o.getImageData(0,0,i,n);const s=l.data;for(let c=0;c<n;c+=e)for(let t=0;t<i;t+=e){let a=0,n=0,r=0,o=0;for(let l=0;l<e;l++)for(let d=0;d<e;d++){const e=4*((c+l)*i+(t+d));e>=s.length||(a+=s[e],n+=s[e+1],r+=s[e+2],o++)}a=Math.round(a/o),n=Math.round(n/o),r=Math.round(r/o);for(let l=0;l<e;l++)for(let o=0;o<e;o++){const e=4*((c+l)*i+(t+o));e>=s.length||(s[e]=a,s[e+1]=n,s[e+2]=r)}}return o.putImageData(l,0,0),r.toDataURL("image/png")},async highContrastImage(t,e=2){const a=await this.loadImageFromFile(t),i=a.width,n=a.height,r=document.createElement("canvas");r.width=i,r.height=n;const o=r.getContext("2d");o.drawImage(a,0,0,i,n);let l=o.getImageData(0,0,i,n);const s=259*(e+255)/(255*(259-e));for(let c=0;c<l.data.length;c+=4)l.data[c]=Math.max(0,Math.min(255,s*(l.data[c]-128)+128)),l.data[c+1]=Math.max(0,Math.min(255,s*(l.data[c+1]-128)+128)),l.data[c+2]=Math.max(0,Math.min(255,s*(l.data[c+2]-128)+128));return o.putImageData(l,0,0),r.toDataURL("image/png")},loadImageFromFile(t){return new Promise(((e,a)=>{const i=new window.Image;i.onload=()=>e(i),i.onerror=a,i.src=URL.createObjectURL(t)}))},handleDownload(){if(!this.resultUrl)return;const t="pixelate"===this.style?"pixelated.png":"sketch.png";o.A.downloadImage(this.resultUrl,t)}},beforeDestroy(){this.imgUrl&&URL.revokeObjectURL(this.imgUrl),this.imgUrl="",this.resultUrl=""}},s=l,c=a(81656),d=(0,c.A)(s,n,r,!1,null,"7320f13e",null),u=d.exports,g=a(89143),h=a.n(g);i["default"].config.productionTip=!1,i["default"].use(h()),new i["default"]({render:t=>t(u),mounted(){document.dispatchEvent(new Event("render-event"))}}).$mount("#app")}},e={};function a(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,function(){a.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){a.amdO={}}(),function(){var t=[];a.O=function(e,i,n,r){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],n=t[d][1],r=t[d][2];for(var l=!0,s=0;s<i.length;s++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](i[s])}))?i.splice(s--,1):(l=!1,r<o&&(o=r));if(l){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,n,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};a.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"===typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"===typeof i.then)return i}var r=Object.create(null);a.r(r);var o={};t=t||[null,e({}),e([]),e(e)];for(var l=2&n&&i;"object"==typeof l&&!~t.indexOf(l);l=e(l))Object.getOwnPropertyNames(l).forEach((function(t){o[t]=function(){return i[t]}}));return o["default"]=function(){return i},a.d(r,o),r}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,i){return a.f[i](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{2407:"98dca01c",9479:"fea5b1b8"}[t]+".js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="web-tool-vue:";a.l=function(i,n,r,o){if(t[i])t[i].push(n);else{var l,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==e+r){l=u;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",e+r),l.src=i),t[i]=[n];var g=function(e,a){l.onerror=l.onload=null,clearTimeout(h);var n=t[i];if(delete t[i],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach((function(t){return t(a)})),e)return e(a)},h=setTimeout(g.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=g.bind(null,l.onerror),l.onload=g.bind(null,l.onload),s&&document.head.appendChild(l)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.j=7853}(),function(){a.p="/"}(),function(){var t={7853:0};a.f.j=function(e,i){var n=a.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var r=new Promise((function(a,i){n=t[e]=[a,i]}));i.push(n[2]=r);var o=a.p+a.u(e),l=new Error,s=function(i){if(a.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var r=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}};a.l(o,s,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,r,o=i[0],l=i[1],s=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var d=s(a)}for(e&&e(i);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},i=self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504,996],(function(){return a(35202)}));i=a.O(i)})();