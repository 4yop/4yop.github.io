"use strict";(self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[]).push([[8822],{18822:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modern-bg"},[t("el-row",{attrs:{gutter:0,justify:"center"}},[t("el-col",{attrs:{xs:{span:24,offset:0},sm:{span:22,offset:1},md:{span:18,offset:3},lg:{span:14,offset:5},xl:{span:12,offset:6}}},[t("el-card",{staticClass:"modern-card",attrs:{shadow:"hover"}},[t("div",{staticClass:"page-header"},[t("h1",{staticClass:"modern-title"},[e._v("ğŸ–¼ï¸ å›¾ç‰‡æ‹¼æ¥å™¨")]),t("p",{staticClass:"page-description"},[e._v("å°†å¤šå¼ å›¾ç‰‡æ¨ªå‘æˆ–çºµå‘æ‹¼æ¥æˆä¸€å¼ å›¾ç‰‡ï¼Œæ”¯æŒé—´è·è°ƒæ•´å’Œå¯¹é½æ–¹å¼")])]),t("div",{staticClass:"operation-section"},[t("div",{staticClass:"upload-section"},[t("el-upload",{staticClass:"upload-dragger",attrs:{drag:"",action:"","auto-upload":!1,"on-change":e.handleFileChange,"show-file-list":!1,multiple:"",accept:"image/*"}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[e._v("å°†å›¾ç‰‡æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),t("em",[e._v("ç‚¹å‡»ä¸Šä¼ ")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("æ”¯æŒ JPGã€PNGã€GIF æ ¼å¼ï¼Œå¯é€‰æ‹©å¤šå¼ å›¾ç‰‡")])])],1),t("div",{staticClass:"settings-section"},[t("div",{staticClass:"setting-row"},[t("label",[e._v("æ‹¼æ¥æ–¹å‘ï¼š")]),t("el-radio-group",{attrs:{size:"small"},model:{value:e.mergeDirection,callback:function(t){e.mergeDirection=t},expression:"mergeDirection"}},[t("el-radio",{attrs:{label:"horizontal"}},[e._v("æ¨ªå‘æ‹¼æ¥")]),t("el-radio",{attrs:{label:"vertical"}},[e._v("çºµå‘æ‹¼æ¥")])],1)],1),t("div",{staticClass:"setting-row"},[t("label",[e._v("å¯¹é½æ–¹å¼ï¼š")]),t("el-radio-group",{attrs:{size:"small"},model:{value:e.alignMode,callback:function(t){e.alignMode=t},expression:"alignMode"}},[t("el-radio",{attrs:{label:"start"}},[e._v("é¡¶éƒ¨/å·¦ä¾§å¯¹é½")]),t("el-radio",{attrs:{label:"center"}},[e._v("å±…ä¸­å¯¹é½")]),t("el-radio",{attrs:{label:"end"}},[e._v("åº•éƒ¨/å³ä¾§å¯¹é½")])],1)],1),t("div",{staticClass:"setting-row"},[t("label",[e._v("å›¾ç‰‡é—´è·ï¼š")]),t("el-slider",{staticStyle:{width:"200px"},attrs:{min:0,max:50,step:1,"show-input":"","input-size":"small"},model:{value:e.spacing,callback:function(t){e.spacing=t},expression:"spacing"}}),t("span",{staticClass:"unit"},[e._v("px")])],1),t("div",{staticClass:"setting-row"},[t("label",[e._v("èƒŒæ™¯é¢œè‰²ï¼š")]),t("el-color-picker",{attrs:{size:"small"},model:{value:e.backgroundColor,callback:function(t){e.backgroundColor=t},expression:"backgroundColor"}})],1)]),t("div",{staticClass:"action-buttons"},[t("el-button",{attrs:{type:"primary",disabled:e.images.length<2,loading:e.processing},on:{click:e.mergeImages}},[t("i",{staticClass:"el-icon-picture"}),e._v(" å¼€å§‹æ‹¼æ¥ ")]),t("el-button",{attrs:{disabled:0===e.images.length},on:{click:e.clearImages}},[t("i",{staticClass:"el-icon-delete"}),e._v(" æ¸…ç©ºå›¾ç‰‡ ")]),e.mergedImageUrl?t("el-button",{attrs:{type:"success"},on:{click:e.downloadMergedImage}},[t("i",{staticClass:"el-icon-download"}),e._v(" ä¸‹è½½ç»“æœ ")]):e._e()],1)]),e.images.length>0?t("div",{staticClass:"preview-section"},[t("h3",[e._v("ğŸ“· å·²ä¸Šä¼ å›¾ç‰‡ ("+e._s(e.images.length)+"å¼ )")]),t("div",{staticClass:"image-list"},e._l(e.images,(function(s,i){return t("div",{key:i,staticClass:"image-item"},[t("img",{attrs:{src:s.url,alt:`å›¾ç‰‡${i+1}`}}),t("div",{staticClass:"image-info"},[t("p",[e._v(e._s(s.name))]),t("p",[e._v(e._s(s.width)+"Ã—"+e._s(s.height))])]),t("el-button",{staticClass:"remove-btn",attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.removeImage(i)}}})],1)})),0)]):e._e(),e.mergedImageUrl?t("div",{staticClass:"result-section"},[t("h3",[e._v("âœ¨ æ‹¼æ¥ç»“æœ")]),t("div",{staticClass:"result-preview"},[t("img",{staticClass:"merged-image",attrs:{src:e.mergedImageUrl,alt:"æ‹¼æ¥ç»“æœ"}}),t("div",{staticClass:"result-info"},[t("p",[t("strong",[e._v("å°ºå¯¸ï¼š")]),e._v(e._s(e.mergedWidth)+"Ã—"+e._s(e.mergedHeight))]),t("p",[t("strong",[e._v("æ–‡ä»¶å¤§å°ï¼š")]),e._v(e._s(e.formatFileSize(e.mergedFileSize)))])])])]):e._e(),e.processing?t("div",{staticClass:"processing-overlay"},[t("div",{staticClass:"processing-content"},[t("el-progress",{attrs:{percentage:e.progress,"stroke-width":8}}),t("p",[e._v(e._s(e.progressText))])],1)]):e._e()])],1)],1)],1)},a=[],r=(s(44114),s(72712),{name:"ImageMergerView",metaInfo:{title:"å›¾ç‰‡æ‹¼æ¥å·¥å…· - å…è´¹åœ¨çº¿æ¨ªå‘/çºµå‘é•¿å›¾åˆ¶ä½œã€å¤šå›¾åˆå¹¶ä¸é—´è·è°ƒæ•´",meta:[{name:"description",content:"å…è´¹åœ¨çº¿å›¾ç‰‡æ‹¼æ¥å·¥å…·ã€‚æ”¯æŒå°†å¤šå¼ å›¾ç‰‡å¿«é€Ÿæ¨ªå‘æˆ–çºµå‘åˆå¹¶ä¸ºä¸€å¼ é•¿å›¾ã€‚æä¾›è‡ªå®šä¹‰å›¾ç‰‡é—´è·ã€å¯¹é½æ–¹å¼ç­‰é«˜çº§è®¾ç½®ï¼Œè½»æ¾åˆ¶ä½œå¯¹æ¯”å›¾ã€ç¤¾äº¤åª’ä½“é•¿æ–‡åˆ†äº«å›¾ç­‰ã€‚"},{name:"keywords",content:"å›¾ç‰‡æ‹¼æ¥å™¨, åœ¨çº¿å›¾ç‰‡åˆå¹¶, æ¨ªå‘æ‹¼æ¥, çºµå‘æ‹¼æ¥, é•¿å›¾åˆ¶ä½œ, å¤šå›¾åˆæˆ, å›¾ç‰‡é—´è·è°ƒæ•´, å…è´¹å›¾ç‰‡å·¥å…·"}]},data(){return{images:[],mergeDirection:"horizontal",alignMode:"center",spacing:10,backgroundColor:"#FFFFFF",processing:!1,progress:0,progressText:"",mergedImageUrl:null,mergedWidth:0,mergedHeight:0,mergedFileSize:0}},methods:{async handleFileChange(e){if(e.raw)if(e.raw.type.startsWith("image/"))if(e.raw.size>10485760)this.$message.error("å›¾ç‰‡æ–‡ä»¶ä¸èƒ½è¶…è¿‡10MBï¼");else try{const t=await this.loadImage(e.raw);this.images.push(t),this.$message.success(`å·²æ·»åŠ å›¾ç‰‡ï¼š${e.name}`)}catch(t){console.error("åŠ è½½å›¾ç‰‡å¤±è´¥:",t),this.$message.error("å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼ï¼")}else this.$message.error("è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼")},loadImage(e){return new Promise(((t,s)=>{const i=new FileReader;i.onload=i=>{const a=new Image;a.onload=()=>{t({name:e.name,url:i.target.result,width:a.width,height:a.height,file:e,element:a})},a.onerror=s,a.src=i.target.result},i.onerror=s,i.readAsDataURL(e)}))},removeImage(e){this.images.splice(e,1),this.$message.info("å·²ç§»é™¤å›¾ç‰‡")},clearImages(){this.images=[],this.mergedImageUrl=null,this.$message.info("å·²æ¸…ç©ºæ‰€æœ‰å›¾ç‰‡")},async mergeImages(){if(this.images.length<2)this.$message.warning("è‡³å°‘éœ€è¦2å¼ å›¾ç‰‡æ‰èƒ½æ‹¼æ¥ï¼");else{this.processing=!0,this.progress=0,this.progressText="æ­£åœ¨è®¡ç®—æ‹¼æ¥å°ºå¯¸...";try{const{totalWidth:e,totalHeight:t}=this.calculateMergedSize();this.progress=20,this.progressText="æ­£åœ¨åˆ›å»ºç”»å¸ƒ...";const s=document.createElement("canvas");s.width=e,s.height=t;const i=s.getContext("2d");i.fillStyle=this.backgroundColor,i.fillRect(0,0,e,t),this.progress=40,this.progressText="æ­£åœ¨æ‹¼æ¥å›¾ç‰‡...",await this.drawImagesOnCanvas(i,e,t),this.progress=80,this.progressText="æ­£åœ¨ç”Ÿæˆç»“æœ...";const a=s.toDataURL("image/png",.9);this.mergedImageUrl=a,this.mergedWidth=e,this.mergedHeight=t;const r=a.split(",")[1];this.mergedFileSize=Math.round(3*r.length/4),this.progress=100,this.progressText="æ‹¼æ¥å®Œæˆï¼",setTimeout((()=>{this.processing=!1,this.$message.success("å›¾ç‰‡æ‹¼æ¥å®Œæˆï¼")}),500)}catch(e){console.error("æ‹¼æ¥å¤±è´¥:",e),this.processing=!1,this.$message.error("å›¾ç‰‡æ‹¼æ¥å¤±è´¥ï¼š"+e.message)}}},calculateMergedSize(){let e=0,t=0,s=0,i=0;return this.images.forEach((e=>{s=Math.max(s,e.width),i=Math.max(i,e.height)})),"horizontal"===this.mergeDirection?(e=this.images.reduce(((e,t)=>e+t.width),0)+(this.images.length-1)*this.spacing,t=i):(e=s,t=this.images.reduce(((e,t)=>e+t.height),0)+(this.images.length-1)*this.spacing),{totalWidth:e,totalHeight:t,maxWidth:s,maxHeight:i}},async drawImagesOnCanvas(e,t,s){let i=0,a=0;for(let r=0;r<this.images.length;r++){const l=this.images[r];let o=i,n=a;"horizontal"===this.mergeDirection?"center"===this.alignMode?n=(s-l.height)/2:"end"===this.alignMode&&(n=s-l.height):"center"===this.alignMode?o=(t-l.width)/2:"end"===this.alignMode&&(o=t-l.width),e.drawImage(l.element,o,n,l.width,l.height),"horizontal"===this.mergeDirection?i+=l.width+this.spacing:a+=l.height+this.spacing,this.progress=40+(r+1)/this.images.length*40}},downloadMergedImage(){if(!this.mergedImageUrl)return;const e=document.createElement("a");e.download=`merged_image_${Date.now()}.png`,e.href=this.mergedImageUrl,document.body.appendChild(e),e.click(),document.body.removeChild(e),this.$message.success("å¼€å§‹ä¸‹è½½æ‹¼æ¥ç»“æœï¼")},formatFileSize(e){if(0===e)return"0 B";const t=1024,s=["B","KB","MB","GB"],i=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,i)).toFixed(2))+" "+s[i]}}}),l=r,o=s(81656),n=(0,o.A)(l,i,a,!1,null,"24aab703",null),g=n.exports}}]);
//# sourceMappingURL=8822.90f6b1b5.js.map