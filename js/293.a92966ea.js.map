{"version":3,"file":"js/293.a92966ea.js","mappings":"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","sources":["webpack://web-tool-vue/./src/views/img/MattingView.vue","webpack://web-tool-vue/src/views/img/MattingView.vue","webpack://web-tool-vue/./src/views/img/MattingView.vue?3db4","webpack://web-tool-vue/./src/views/img/MattingView.vue?5ffe","webpack://web-tool-vue/./src/util/FileUtil.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modern-bg\"},[_c('el-row',{attrs:{\"gutter\":0,\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":{span: 24, offset: 0},\"sm\":{span: 22, offset: 1},\"md\":{span: 18, offset: 3},\"lg\":{span: 14, offset: 5},\"xl\":{span: 12, offset: 6}}},[_c('el-card',{staticClass:\"modern-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"upload-row\"},[_c('el-upload',{attrs:{\"action\":\"#\",\"auto-upload\":false,\"multiple\":true,\"show-file-list\":false,\"accept\":\"image/*\",\"disabled\":_vm.isSnaping(),\"on-change\":_vm.handleUploadChange}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"disabled\":_vm.isSnaping()}},[_vm._v(\"选择图片\")])],1),_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\",\"disabled\":_vm.isSnaping() || _vm.imgs.length === 0},on:{\"click\":_vm.snapMany}},[_vm._v(\"抠图\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.$refs.imgTable.clearSelection()}}},[_vm._v(\"全不选\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"disabled\":_vm.multipleSelection.length === 0},on:{\"click\":_vm.handleBatchDelete}},[_vm._v(\"批量删除\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\",\"disabled\":_vm.imgs.filter(img => img.snapImgFile).length === 0},on:{\"click\":_vm.handleDownloadZip}},[_vm._v(\"打包下载\")])],1),_c('div',{staticStyle:{\"margin-top\":\"24px\"}},[_c('el-table',{ref:\"imgTable\",staticStyle:{\"width\":\"100%\",\"max-width\":\"900px\",\"margin\":\"0 auto\"},attrs:{\"data\":_vm.imgs,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_c('el-table-column',{attrs:{\"label\":\"原图\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.img)?_c('el-image',{staticStyle:{\"width\":\"120px\",\"max-width\":\"100%\",\"border-radius\":\"10px\",\"box-shadow\":\"0 2px 8px rgba(0,0,0,0.08)\"},attrs:{\"src\":scope.row.img,\"alt\":scope.row.imgFile.name,\"preview-src-list\":_vm.imgs.map(i => i.img)},on:{\"error\":function($event){scope.row.imgError=true;scope.row.msg='图片文件有误;'}}}):_vm._e(),(scope.row.imgFile)?_c('p',{staticClass:\"img-info\"},[_vm._v(\"大小:\"+_vm._s(_vm.formatFileSize(scope.row.imgFile.size)))]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"结果\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.snapImg)?_c('el-image',{staticStyle:{\"width\":\"120px\",\"max-width\":\"100%\",\"border-radius\":\"10px\",\"box-shadow\":\"0 2px 8px rgba(0,0,0,0.08)\",\"background\":\"#f0f9eb\"},attrs:{\"alt\":'扣图后的'+scope.row.imgFile.name,\"src\":scope.row.snapImg,\"preview-src-list\":_vm.imgs.map(i => i.snapImg).filter(Boolean)}}):_vm._e(),(scope.row.snapImgFile)?_c('p',{staticClass:\"img-info\"},[_vm._v(\"大小:\"+_vm._s(_vm.formatFileSize(scope.row.snapImgFile.size)))]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"说明\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('h2',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(scope.row.msg))]),(scope.row.snapImg || scope.row.snapping)?_c('span',[_vm._v(\"用时:\"+_vm._s((scope.row.endTime - scope.row.startTime)/1000)+\"秒!\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleDeleteRow(scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1)],1)])],1)],1),_c('el-row',{attrs:{\"gutter\":0,\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":{span: 24, offset: 0},\"sm\":{span: 22, offset: 1},\"md\":{span: 18, offset: 3},\"lg\":{span: 14, offset: 5},\"xl\":{span: 12, offset: 6}}},[_c('el-card',{staticClass:\"modern-card\",attrs:{\"shadow\":\"hover\"}},[_c('h3',{staticClass:\"modern-title\"},[_vm._v(\"模型加载进度(\"+_vm._s(_vm.preloaded ? '已加载':'加载中')+\")\")]),_c('el-divider'),_c('el-table',{staticStyle:{\"width\":\"100%\",\"max-width\":\"900px\",\"margin\":\"0 auto\"},attrs:{\"data\":Object.values(_vm.progress),\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"模型\",\"prop\":\"key\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"尺寸\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.current)+\"/\"+_vm._s(scope.row.total))]}}])}),_c('el-table-column',{attrs:{\"label\":\"进度\",\"prop\":\"progress\",\"align\":\"center\"}})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport imgRemoveBackground, { preload } from '@imgly/background-removal';\r\nimport FileUtil from \"@/util/FileUtil\";\r\n\r\n\r\nexport default {\r\n  name: 'App',\r\n  data() {\r\n    return {\r\n      metaInfo: {\r\n        title: '在线抠图工具 - 一键去除背景 免费使用',\r\n        meta: [\r\n          { name: 'description', content: '上传照片后，自动识别前景人物或物体，去除背景，生成透明背景图，适合证件照、产品图等场景。' },\r\n          { name: 'keywords', content: '抠图,在线抠图工具,背景去除,AI抠图,免费抠图,一键抠图' }\r\n        ]\r\n      },\r\n      progress: {},\r\n      imgs : [],\r\n      preloaded : false,\r\n      multipleSelection: [] // 新增\r\n    }\r\n  },\r\n  mounted() {\r\n    if (window.__PRERENDER_INJECTED__)\r\n    {\r\n      return;\r\n    }\r\n    let config = {\r\n      debug: true,// enable or disable useful console.log outputs\r\n      proxyToWorker: true, // Whether to proxy the calculations to a web worker. (Default true)\r\n      model: 'medium', // The model to use. (Default \"medium\")\r\n      output: {\r\n        format: 'image/png', // The output format. (Default \"image/png\")\r\n        quality: 1, // The quality. (Default: 0.8)\r\n        type: 'foreground', // The output type. (Default \"foreground\")\r\n      },\r\n      progress: (key, current, total) => {\r\n        if (this.progress[key] === undefined) {\r\n          this.progress[key] = {\r\n            key: key,\r\n            current: 0,\r\n            total: 0,\r\n          };\r\n        }\r\n        this.progress[key] = {\r\n          key: key,\r\n          current: this.formatFileSize(current),\r\n          total: this.formatFileSize(total),\r\n          progress : (current * 100/total)+'%',\r\n        };\r\n        console.log(`Downloading ${key}: ${current} of ${total}`);\r\n      }\r\n    };\r\n    //预加载\r\n    preload(config).then(() => {\r\n      this.preloaded = true;\r\n      console.log(\"Background removal resources preloaded\");\r\n    });\r\n  },\r\n  methods: {\r\n    formatFileSize(bytes) {\r\n      if (bytes === 0) return '0 B';\r\n      const thresholds = {\r\n        'TB': Math.pow(1024, 4),\r\n        'GB': Math.pow(1024, 3),\r\n        'MB': Math.pow(1024, 2),\r\n        'KB': 1024,\r\n        'B' : 1,\r\n      };\r\n\r\n      function getSizeName(size) {\r\n        for (let unit in thresholds) {\r\n          if (size >= thresholds[unit]) {\r\n            return unit;\r\n          }\r\n        }\r\n      }\r\n\r\n      const unit = getSizeName(bytes);\r\n      const size = Math.round((bytes / thresholds[unit]) * 100) / 100; // 保留两位小数\r\n      return `${size} ${unit}`;\r\n    },\r\n    // 适配 el-upload\r\n    handleUploadChange(file, fileList) {\r\n      this.imgs = [];\r\n      for (const f of fileList) {\r\n        const rawFile = f.raw || f;\r\n        let imgInfo = {\r\n          img: URL.createObjectURL(rawFile),\r\n          imgFile: rawFile,\r\n          snapImg: null,\r\n          snapImgSize: 0,\r\n          snapImgFile: null,\r\n          imgError: false,\r\n          startTime: (new Date()).getTime(),\r\n          endTime: (new Date()).getTime(),\r\n          timer: null,\r\n          snapping: false,\r\n          msg: '',\r\n        };\r\n        if (rawFile.type && rawFile.type.startsWith('image/gif')) {\r\n          imgInfo.imgError = true;\r\n          imgInfo.msg = 'gif不能用';\r\n        }\r\n        this.imgs.push(imgInfo);\r\n      }\r\n    },\r\n    isSnaping() {\r\n      for (const img of this.imgs) {\r\n        if (img.snapping) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    snapMany() {\r\n      this.imgs.forEach((img)=>{\r\n        this.snap(img);\r\n      });\r\n    },\r\n\r\n    async snap(item) {\r\n      try {\r\n        if (item.snapImg !== null) {\r\n          //扣完了\r\n          return;\r\n        }\r\n        if (item.imgError) {\r\n          item.msg = '选择的图片文件有误';\r\n          return;\r\n        }\r\n        if (!item.img) {\r\n          item.msg = '没上传'\r\n          return;\r\n        }\r\n        if (item.snapping) {\r\n          return;\r\n        }\r\n        console.log(30);\r\n        item.msg = '扣图中...'\r\n        item.snapping = true;\r\n        item.startTime = (new Date()).getTime();\r\n        item.timer = setInterval(() => {\r\n          item.endTime = (new Date()).getTime();\r\n        });\r\n        const blob = await imgRemoveBackground(item.img)\r\n        clearInterval(item.timer);\r\n        item.timer = null;\r\n        item.endTime = (new Date()).getTime();\r\n        console.log(32);\r\n        // The result is a blob encoded as PNG. It can be converted to an URL to be used as HTMLImage.src\r\n        item.snapImg = URL.createObjectURL(blob);\r\n        item.snapImgFile = blob;\r\n        item.snapping = false;\r\n        item.msg = '完成';\r\n      } catch (e) {\r\n        item.msg = e.msg\r\n        if (item.timer) {\r\n          clearInterval(item.timer);\r\n          item.timer = null;\r\n        }\r\n      }\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    handleDeleteRow(index) {\r\n      this.imgs.splice(index, 1);\r\n    },\r\n    handleBatchDelete() {\r\n      this.multipleSelection.forEach(img => {\r\n        if (img.img) URL.revokeObjectURL(img.img);\r\n        if (img.snapImg) URL.revokeObjectURL(img.snapImg);\r\n      });\r\n      this.imgs = this.imgs.filter(img => !this.multipleSelection.includes(img));\r\n      this.multipleSelection = [];\r\n    },\r\n    async handleDownloadZip() {\r\n      // 只打包已抠图的图片\r\n      const files = this.imgs.filter(img => img.snapImgFile && img.imgFile && img.imgFile.name).map(img => ({\r\n        file: img.snapImgFile,\r\n        save_name: img.imgFile.name\r\n      }));\r\n      if (files.length === 0) {\r\n        this.$message.warning('没有可打包的抠图图片！');\r\n        return;\r\n      }\r\n      await FileUtil.downloadAsZip(files, `matting_${Date.now()}.zip`, 'file', 'save_name');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"modern-bg\">\r\n    <el-row :gutter=\"0\" justify=\"center\">\r\n      <el-col :xs=\"{span: 24, offset: 0}\" :sm=\"{span: 22, offset: 1}\" :md=\"{span: 18, offset: 3}\" :lg=\"{span: 14, offset: 5}\" :xl=\"{span: 12, offset: 6}\">\r\n        <el-card shadow=\"hover\" class=\"modern-card\">\r\n          <div class=\"upload-row\">\r\n            <el-upload\r\n              action=\"#\"\r\n              :auto-upload=\"false\"\r\n              :multiple=\"true\"\r\n              :show-file-list=\"false\"\r\n              accept=\"image/*\"\r\n              :disabled=\"isSnaping()\"\r\n              :on-change=\"handleUploadChange\"\r\n            >\r\n              <el-button type=\"primary\" round :disabled=\"isSnaping()\">选择图片</el-button>\r\n            </el-upload>\r\n            <el-button type=\"success\" round :disabled=\"isSnaping() || imgs.length === 0\" @click=\"snapMany\">抠图</el-button>\r\n            <el-button size=\"mini\" @click=\"$refs.imgTable.clearSelection()\">全不选</el-button>\r\n            <el-button type=\"danger\" size=\"mini\" :disabled=\"multipleSelection.length === 0\" @click=\"handleBatchDelete\">批量删除</el-button>\r\n            <el-button type=\"warning\" size=\"mini\" :disabled=\"imgs.filter(img => img.snapImgFile).length === 0\" @click=\"handleDownloadZip\">打包下载</el-button>\r\n          </div>\r\n          <div style=\"margin-top: 24px;\">\r\n            <el-table ref=\"imgTable\" :data=\"imgs\" border style=\"width: 100%; max-width: 900px; margin: 0 auto;\">\r\n              <el-table-column type=\"selection\" width=\"30\"></el-table-column>\r\n              <el-table-column label=\"原图\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-image\r\n                    style=\"width: 120px;max-width: 100%; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);\"\r\n                    :src=\"scope.row.img\"\r\n                    v-if=\"scope.row.img\"\r\n                    :alt=\"scope.row.imgFile.name\"\r\n                    :preview-src-list=\"imgs.map(i => i.img)\"\r\n                    @error=\"scope.row.imgError=true;scope.row.msg='图片文件有误;'\"\r\n                  />\r\n                  <p class=\"img-info\" v-if=\"scope.row.imgFile\">大小:{{formatFileSize(scope.row.imgFile.size)}}</p>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"结果\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-image\r\n                    style=\"width: 120px; max-width: 100%; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); background: #f0f9eb;\"\r\n                    :alt=\"'扣图后的'+scope.row.imgFile.name\"\r\n                    :src=\"scope.row.snapImg\"\r\n                    v-if=\"scope.row.snapImg\"\r\n                    :preview-src-list=\"imgs.map(i => i.snapImg).filter(Boolean)\"\r\n                  />\r\n                  <p class=\"img-info\" v-if=\"scope.row.snapImgFile\">大小:{{formatFileSize(scope.row.snapImgFile.size)}}</p>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"说明\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <h2 style=\"color: red;\">{{scope.row.msg}}</h2>\r\n                  <span v-if=\"scope.row.snapImg || scope.row.snapping\">用时:{{(scope.row.endTime - scope.row.startTime)/1000}}秒!</span>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"操作\" align=\"center\" width=\"90\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button type=\"danger\" size=\"mini\" @click=\"handleDeleteRow(scope.$index)\">删除</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"0\" justify=\"center\">\r\n      <el-col :xs=\"{span: 24, offset: 0}\" :sm=\"{span: 22, offset: 1}\" :md=\"{span: 18, offset: 3}\" :lg=\"{span: 14, offset: 5}\" :xl=\"{span: 12, offset: 6}\">\r\n        <el-card shadow=\"hover\" class=\"modern-card\">\r\n          <h3 class=\"modern-title\">模型加载进度({{preloaded ? '已加载':'加载中'}})</h3>\r\n          <el-divider></el-divider>\r\n          <el-table :data=\"Object.values(progress)\" border style=\"width: 100%; max-width: 900px; margin: 0 auto;\">\r\n            <el-table-column label=\"模型\" prop=\"key\" align=\"center\" />\r\n            <el-table-column label=\"尺寸\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{ scope.row.current }}/{{ scope.row.total }}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"进度\" prop=\"progress\" align=\"center\" />\r\n          </el-table>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.modern-bg {\r\n  //min-height: 100vh;\r\n  background: #f6f8fa;\r\n  //padding: 32px 0;\r\n}\r\n.modern-card {\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 24px rgba(0,0,0,0.08);\r\n  margin-bottom: 32px;\r\n}\r\n.modern-title {\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #222;\r\n  margin-bottom: 0;\r\n}\r\n.upload-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n}\r\n.img-info {\r\n  font-size: 13px;\r\n  color: #888;\r\n  margin: 4px 0 0 0;\r\n}\r\n\r\n@media screen and (max-width: 768px) {\r\n  .upload-row {\r\n   justify-content: space-between;\r\n  }\r\n  .modern-card >>> .el-card__body{\r\n    padding: 5px;\r\n  }\r\n  ::v-deep .el-table .el-table__cell{\r\n    padding: 5px 0;\r\n  }\r\n  ::v-deep .el-table th.el-table__cell>.cell {\r\n    padding-left: 5px!important;\r\n    padding-right: 5px!important;\r\n  }\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MattingView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MattingView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MattingView.vue?vue&type=template&id=d9c86040&scoped=true\"\nimport script from \"./MattingView.vue?vue&type=script&lang=js\"\nexport * from \"./MattingView.vue?vue&type=script&lang=js\"\nimport style0 from \"./MattingView.vue?vue&type=style&index=0&id=d9c86040&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9c86040\",\n  null\n  \n)\n\nexport default component.exports","import JSZip from \"jszip\";\n\n/**\n * 文件处理工具类\n */\nclass FileUtil {\n  /**\n   * 格式化文件大小\n   * @param {number} bytes 字节数\n   * @returns {string} 格式化后的文件大小\n   */\n  static formatBytes(bytes) {\n    if (bytes === 0) return '0 Bytes';\n    \n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  }\n  \n  /**\n   * 获取文件扩展名\n   * @param {string} filename 文件名\n   * @returns {string} 扩展名\n   */\n  static getFileExtension(filename) {\n    return filename.slice((filename.lastIndexOf('.') - 1 >>> 0) + 2);\n  }\n\n  /**\n   * 获取文件扩展名（兼容FileService的getExt方法）\n   * @param {string} filename 文件名\n   * @returns {string} 扩展名\n   */\n  static getExt(filename) {\n    return filename.split('.').pop().toLowerCase();\n  }\n  \n  /**\n   * 获取文件名（不含扩展名）\n   * @param {string} filename 文件名\n   * @returns {string} 不含扩展名的文件名\n   */\n  static getFileNameWithoutExtension(filename) {\n    return filename.replace(/\\.[^/.]+$/, '');\n  }\n\n  /**\n   * 获取文件基础名（兼容FileService的getBaseName方法）\n   * @param {string} filename 文件名\n   * @returns {string} 不含扩展名的文件名\n   */\n  static getBaseName(filename) {\n    const basename = filename.lastIndexOf('.') === -1\n      ? filename // 如果没有扩展名，返回原始文件名\n      : filename.substring(0, filename.lastIndexOf('.'));\n    return basename;\n  }\n  \n  /**\n   * 检查是否为图片文件\n   * @param {string} filename 文件名\n   * @returns {boolean} 是否为图片文件\n   */\n  static isImageFile(filename) {\n    const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg'];\n    const extension = this.getFileExtension(filename).toLowerCase();\n    return imageExtensions.includes(extension);\n  }\n  \n  /**\n   * 检查是否为视频文件\n   * @param {string} filename 文件名\n   * @returns {boolean} 是否为视频文件\n   */\n  static isVideoFile(filename) {\n    const videoExtensions = ['mp4', 'avi', 'mov', 'wmv', 'flv', 'webm', 'mkv'];\n    const extension = this.getFileExtension(filename).toLowerCase();\n    return videoExtensions.includes(extension);\n  }\n  \n  /**\n   * 检查是否为音频文件\n   * @param {string} filename 文件名\n   * @returns {boolean} 是否为音频文件\n   */\n  static isAudioFile(filename) {\n    const audioExtensions = ['mp3', 'wav', 'flac', 'aac', 'ogg', 'wma'];\n    const extension = this.getFileExtension(filename).toLowerCase();\n    return audioExtensions.includes(extension);\n  }\n  \n  /**\n   * 检查是否为文档文件\n   * @param {string} filename 文件名\n   * @returns {boolean} 是否为文档文件\n   */\n  static isDocumentFile(filename) {\n    const documentExtensions = ['pdf', 'doc', 'docx', 'xls', 'xlsx', 'ppt', 'pptx', 'txt'];\n    const extension = this.getFileExtension(filename).toLowerCase();\n    return documentExtensions.includes(extension);\n  }\n  \n  /**\n   * 生成唯一文件名\n   * @param {string} originalName 原始文件名\n   * @returns {string} 唯一文件名\n   */\n  static generateUniqueFileName(originalName) {\n    const timestamp = Date.now();\n    const random = Math.random().toString(36).substring(2, 8);\n    const extension = this.getFileExtension(originalName);\n    const nameWithoutExt = this.getFileNameWithoutExtension(originalName);\n    \n    return `${nameWithoutExt}_${timestamp}_${random}.${extension}`;\n  }\n  \n  /**\n   * 将文件转换为Base64\n   * @param {File} file 文件对象\n   * @returns {Promise<string>} Base64字符串\n   */\n  static fileToBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  }\n  \n  /**\n   * 下载文件\n   * @param {string} url 文件URL\n   * @param {string} filename 文件名\n   */\n  static downloadFile(url, filename) {\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n  \n  /**\n   * 将Blob转换为文件\n   * @param {Blob} blob Blob对象\n   * @param {string} filename 文件名\n   * @returns {File} 文件对象\n   */\n  static blobToFile(blob, filename) {\n    return new File([blob], filename, { type: blob.type });\n  }\n\n  /**\n   * 将文件转换为Blob（兼容FileService的fileToBlob方法）\n   * @param {File} file 文件对象\n   * @returns {Blob} Blob对象\n   */\n  static fileToBlob(file) {\n    if (file instanceof Blob) return file;\n    return new Blob([file], {type: file.type});\n  }\n\n  /**\n   * 检查对象是否为Blob\n   * @param {*} object 要检查的对象\n   * @returns {boolean} 是否为Blob\n   */\n  static isBlob(object) {\n    return object instanceof Blob;\n  }\n\n  /**\n   * 通过URL获取Blob对象\n   * @param {string} url URL地址\n   * @returns {Promise<Blob>} Blob对象\n   */\n  static async getBlobByUrl(url) {\n    if (FileUtil.isBlob(url)) {\n      return url;\n    }\n    try {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error('Network response was not ok: ' + response.statusText);\n      }\n      return await response.blob();\n    } catch (error) {\n      console.error('Error fetching the blob:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * 下载文件\n   * @param {string|Blob} file_url 文件URL或Blob对象\n   * @param {string} file_name 文件名\n   * @returns {Promise<void>}\n   */\n  static async download(file_url, file_name) {\n    let blob = null;\n    if (FileUtil.isBlob(file_url)) {\n      blob = file_url;\n    } else {\n      blob = await FileUtil.getBlobByUrl(file_url);\n    }\n\n    const blobUrl = URL.createObjectURL(blob);\n\n    const downloadLink = document.createElement('a');\n    downloadLink.href = blobUrl;\n    downloadLink.download = file_name;\n\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n    URL.revokeObjectURL(blobUrl);\n  }\n\n  /**\n   * 批量下载文件为ZIP包\n   * @param {Array} files 文件数组\n   * @param {string} name ZIP文件名\n   * @param {string} file_url 文件URL字段名\n   * @param {string} save_name 保存文件名字段名\n   * @returns {Promise<void>}\n   */\n  static async downloadAsZip(files, name = (new Date()).getTime()+'.zip', file_url = 'file_url', save_name = 'save_name') {\n    const jszip = new JSZip();\n\n    for (const file of files) {\n      const blob = await FileUtil.getBlobByUrl(file[file_url]);\n      jszip.file(file[save_name], blob);\n    }\n\n    try {\n      const content = await jszip.generateAsync({type: \"blob\"});\n      await FileUtil.download(content, name);\n    } catch (error) {\n      console.error('Error while generating zip:', error);\n    }\n  }\n  \n  /**\n   * 压缩图片\n   * @param {File} file 图片文件\n   * @param {number} quality 压缩质量 (0-1)\n   * @param {number} maxWidth 最大宽度\n   * @param {number} maxHeight 最大高度\n   * @returns {Promise<File>} 压缩后的文件\n   */\n  static compressImage(file, quality = 0.8, maxWidth = 1920, maxHeight = 1080) {\n    return new Promise((resolve) => {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      const img = new Image();\n      \n      img.onload = () => {\n        // 计算新的尺寸\n        let { width, height } = img;\n        \n        if (width > maxWidth) {\n          height = (height * maxWidth) / width;\n          width = maxWidth;\n        }\n        \n        if (height > maxHeight) {\n          width = (width * maxHeight) / height;\n          height = maxHeight;\n        }\n        \n        canvas.width = width;\n        canvas.height = height;\n        \n        // 绘制图片\n        ctx.drawImage(img, 0, 0, width, height);\n        \n        // 转换为Blob\n        canvas.toBlob((blob) => {\n          const compressedFile = new File([blob], file.name, {\n            type: file.type,\n            lastModified: Date.now()\n          });\n          resolve(compressedFile);\n        }, file.type, quality);\n      };\n      \n      img.src = URL.createObjectURL(file);\n    });\n  }\n}\n\nexport default FileUtil;\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","span","offset","isSnaping","handleUploadChange","_v","imgs","length","on","snapMany","$event","$refs","imgTable","clearSelection","multipleSelection","handleBatchDelete","filter","img","snapImgFile","handleDownloadZip","staticStyle","ref","scopedSlots","_u","key","fn","scope","row","imgFile","name","map","i","imgError","msg","_e","_s","formatFileSize","size","snapImg","Boolean","snapping","endTime","startTime","handleDeleteRow","$index","preloaded","Object","values","progress","current","total","staticRenderFns","data","metaInfo","title","meta","content","mounted","window","__PRERENDER_INJECTED__","config","debug","proxyToWorker","model","output","format","quality","type","undefined","console","log","preload","then","methods","bytes","thresholds","Math","pow","getSizeName","unit","round","file","fileList","f","rawFile","raw","imgInfo","URL","createObjectURL","snapImgSize","Date","getTime","timer","startsWith","push","forEach","snap","item","setInterval","blob","imgRemoveBackground","clearInterval","e","handleSelectionChange","val","index","splice","revokeObjectURL","includes","files","save_name","FileUtil","downloadAsZip","now","$message","warning","component","formatBytes","k","sizes","floor","parseFloat","toFixed","getFileExtension","filename","slice","lastIndexOf","getExt","split","pop","toLowerCase","getFileNameWithoutExtension","replace","getBaseName","basename","substring","isImageFile","imageExtensions","extension","isVideoFile","videoExtensions","isAudioFile","audioExtensions","isDocumentFile","documentExtensions","generateUniqueFileName","originalName","timestamp","random","toString","nameWithoutExt","fileToBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","downloadFile","url","link","document","createElement","href","download","body","appendChild","click","removeChild","blobToFile","File","fileToBlob","Blob","isBlob","object","getBlobByUrl","response","fetch","ok","Error","statusText","file_url","file_name","blobUrl","downloadLink","jszip","JSZip","generateAsync","compressImage","maxWidth","maxHeight","canvas","ctx","getContext","Image","width","height","drawImage","toBlob","compressedFile","lastModified","src"],"sourceRoot":""}