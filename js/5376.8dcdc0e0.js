"use strict";(self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[]).push([[5376],{95376:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-container"},[t._m(0),e("div",{staticClass:"game-controls"},[e("el-button",{attrs:{type:"primary"},on:{click:t.startNewGame}},[e("i",{staticClass:"el-icon-refresh"}),t._v(" Êñ∞Ê∏∏Êàè ")]),e("el-button",{on:{click:t.resetCurrentGame}},[e("i",{staticClass:"el-icon-refresh-left"}),t._v(" ÈáçÁΩÆÂΩìÂâçÂ±Ä ")]),e("el-button",{on:{click:function(e){t.showHistory=!0}}},[e("i",{staticClass:"el-icon-time"}),t._v(" ÂéÜÂè≤ËÆ∞ÂΩï ")]),e("el-button",{on:{click:function(e){t.showSettings=!0}}},[e("i",{staticClass:"el-icon-setting"}),t._v(" ËÆæÁΩÆ ")])],1),e("el-row",{attrs:{gutter:20}},t._l(t.players,(function(s,i){return e("el-col",{key:i,attrs:{xs:24,sm:12,md:t.players.length<=2?12:8,lg:t.players.length<=2?12:6}},[e("el-card",{staticClass:"player-card",class:{"low-life":s.currentLife<=1e3}},[e("div",{staticClass:"player-header",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"player-info"},[e("el-input",{attrs:{size:"small",placeholder:"Áé©ÂÆ∂ÂêçÁß∞"},on:{blur:t.saveGameData},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"player.name"}}),e("div",{staticClass:"player-stats"},[t._v(" ËÉú: "+t._s(s.wins)+" | Ë¥ü: "+t._s(s.losses)+" ")])],1),e("el-dropdown",{on:{command:e=>t.handlePlayerAction(i,e)}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{staticClass:"el-icon-more"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"reset"}},[t._v("ÈáçÁΩÆÁîüÂëΩÂÄº")]),t.players.length>2?e("el-dropdown-item",{attrs:{command:"remove"}},[t._v("ÁßªÈô§Áé©ÂÆ∂")]):t._e()],1)],1)],1),e("div",{staticClass:"life-display"},[e("div",{staticClass:"current-life",class:t.getLifeClass(s.currentLife)},[t._v(" "+t._s(s.currentLife)+" ")]),e("div",{staticClass:"life-bar"},[e("el-progress",{attrs:{percentage:t.getLifePercentage(s.currentLife),status:t.getLifeStatus(s.currentLife),"show-text":!1}})],1)]),e("div",{staticClass:"life-controls"},[e("div",{staticClass:"quick-actions"},t._l(t.quickAmounts,(function(s){return e("el-button",{key:s,attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.changeLife(i,-s)}}},[t._v(" -"+t._s(s)+" ")])})),1),e("div",{staticClass:"custom-change"},[e("el-input-number",{attrs:{size:"small",min:1,max:99999,placeholder:"Ëá™ÂÆö‰πâÊï∞ÂÄº"},model:{value:t.customAmount,callback:function(e){t.customAmount=e},expression:"customAmount"}}),e("div",{staticClass:"custom-buttons"},[e("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return t.changeLife(i,t.customAmount)}}},[t._v(" +"+t._s(t.customAmount)+" ")]),e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.changeLife(i,-t.customAmount)}}},[t._v(" -"+t._s(t.customAmount)+" ")])],1)],1),e("div",{staticClass:"quick-actions"},t._l(t.quickAmounts,(function(s){return e("el-button",{key:s,attrs:{size:"mini",type:"success"},on:{click:function(e){return t.changeLife(i,s)}}},[t._v(" +"+t._s(s)+" ")])})),1)]),e("div",{staticClass:"life-history"},[e("h4",[t._v("ÂèòÂåñËÆ∞ÂΩï")]),e("div",{staticClass:"history-list"},t._l(s.history.slice(-5),(function(s,i){return e("div",{key:i,staticClass:"history-item"},[e("span",{staticClass:"history-change",class:s.change>0?"positive":"negative"},[t._v(" "+t._s(s.change>0?"+":"")+t._s(s.change)+" ")]),e("span",{staticClass:"history-result"},[t._v("‚Üí "+t._s(s.newLife))]),e("span",{staticClass:"history-time"},[t._v(t._s(t.formatTime(s.time)))])])})),0)])])],1)})),1),t.players.length<4?e("div",{staticClass:"add-player"},[e("el-button",{attrs:{type:"dashed",icon:"el-icon-plus"},on:{click:t.addPlayer}},[t._v(" Ê∑ªÂä†Áé©ÂÆ∂ ("+t._s(t.players.length)+"/4) ")])],1):t._e(),e("div",{staticClass:"game-info"},[e("el-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("Ê∏∏Êàè‰ø°ÊÅØ")])]),e("div",{staticClass:"game-stats"},[e("div",{staticClass:"stat-item"},[e("strong",[t._v("Ê∏∏ÊàèÊó∂Èïø:")]),t._v(" "+t._s(t.formatDuration(t.gameDuration))+" ")]),e("div",{staticClass:"stat-item"},[e("strong",[t._v("ÊÄªÂõûÂêàÊï∞:")]),t._v(" "+t._s(t.totalTurns)+" ")]),e("div",{staticClass:"stat-item"},[e("strong",[t._v("ÂºÄÂßãÊó∂Èó¥:")]),t._v(" "+t._s(t.formatDateTime(t.gameStartTime))+" ")])])])],1),e("el-dialog",{attrs:{title:"ÂéÜÂè≤ËÆ∞ÂΩï",visible:t.showHistory,width:"80%"},on:{"update:visible":function(e){t.showHistory=e}}},[e("div",{staticClass:"history-content"},[0===t.gameHistory.length?e("div",{staticClass:"no-history"},[e("p",[t._v("ÊöÇÊó†ÂéÜÂè≤ËÆ∞ÂΩï")])]):e("div",t._l(t.gameHistory,(function(s,i){return e("div",{key:i,staticClass:"history-game"},[e("div",{staticClass:"game-header"},[e("h4",[t._v("Ê∏∏Êàè #"+t._s(s.id))]),e("span",{staticClass:"game-date"},[t._v(t._s(t.formatDateTime(s.startTime)))]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteGameHistory(i)}}},[t._v("Âà†Èô§")])],1),e("div",{staticClass:"game-summary"},[e("div",{staticClass:"game-duration"},[t._v("Êó∂Èïø: "+t._s(t.formatDuration(s.duration)))]),e("div",{staticClass:"game-players"},t._l(s.players,(function(s){return e("span",{key:s.name,staticClass:"player-summary"},[t._v(" "+t._s(s.name)+": "+t._s(s.finalLife)+" ")])})),0)])])})),0)]),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"danger"},on:{click:t.clearAllHistory}},[t._v("Ê∏ÖÁ©∫ÊâÄÊúâËÆ∞ÂΩï")]),e("el-button",{on:{click:function(e){t.showHistory=!1}}},[t._v("ÂÖ≥Èó≠")])],1)]),e("el-dialog",{attrs:{title:"Ê∏∏ÊàèËÆæÁΩÆ",visible:t.showSettings,width:"60%"},on:{"update:visible":function(e){t.showSettings=e}}},[e("el-form",{attrs:{"label-width":"120px"}},[e("el-form-item",{attrs:{label:"ÂàùÂßãÁîüÂëΩÂÄº"}},[e("el-input-number",{attrs:{min:1e3,max:99999},model:{value:t.settings.initialLife,callback:function(e){t.$set(t.settings,"initialLife",e)},expression:"settings.initialLife"}})],1),e("el-form-item",{attrs:{label:"Âø´Êç∑Êï∞ÂÄº"}},[e("el-input",{attrs:{placeholder:"Áî®ÈÄóÂè∑ÂàÜÈöîÔºåÂ¶Ç: 100,500,1000"},model:{value:t.quickAmountsStr,callback:function(e){t.quickAmountsStr=e},expression:"quickAmountsStr"}})],1),e("el-form-item",{attrs:{label:"‰ΩéÁîüÂëΩÂÄºË≠¶Âëä"}},[e("el-input-number",{attrs:{min:0,max:5e3},model:{value:t.settings.lowLifeThreshold,callback:function(e){t.$set(t.settings,"lowLifeThreshold",e)},expression:"settings.lowLifeThreshold"}})],1),e("el-form-item",{attrs:{label:"Èü≥ÊïàÊèêÁ§∫"}},[e("el-switch",{model:{value:t.settings.soundEnabled,callback:function(e){t.$set(t.settings,"soundEnabled",e)},expression:"settings.soundEnabled"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.resetSettings}},[t._v("ÊÅ¢Â§çÈªòËÆ§")]),e("el-button",{attrs:{type:"primary"},on:{click:t.saveSettings}},[t._v("‰øùÂ≠òËÆæÁΩÆ")])],1)],1)],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tool-header"},[e("h1",[t._v("üéÆ Ê∏∏ÊàèÁéãÁîüÂëΩÂÄºÁªüËÆ°Âô®")]),e("p",[t._v("ËÆ∞ÂΩïÊ∏∏ÊàèÁéãÂÜ≥Êñó‰∏≠ÁöÑÁîüÂëΩÂÄºÂèòÂåñÔºåÊîØÊåÅÂ§ö‰∫∫ÂØπÊàòÂíåÂéÜÂè≤ËÆ∞ÂΩï")])])}],n=(s(44114),{name:"YugiohLifeView",metaInfo:{title:"Ê∏∏ÊàèÁéãÁîüÂëΩÂÄºÁªüËÆ°Âô® - ÂÜ≥ÊñóÁîüÂëΩÂÄºËÆ∞ÂΩïÂ∑•ÂÖ∑",meta:[{name:"description",content:"Ê∏∏ÊàèÁéãÂÜ≥ÊñóÁîüÂëΩÂÄºÁªüËÆ°Â∑•ÂÖ∑ÔºåÊîØÊåÅÂ§ö‰∫∫ÂØπÊàò„ÄÅÂéÜÂè≤ËÆ∞ÂΩï„ÄÅËá™ÂÆö‰πâËÆæÁΩÆÔºåÊï∞ÊçÆÊú¨Âú∞‰øùÂ≠ò„ÄÇ"},{name:"keywords",content:"Ê∏∏ÊàèÁéã,ÁîüÂëΩÂÄºÁªüËÆ°,ÂÜ≥ÊñóËÆ∞ÂΩï,Âç°ÁâåÊ∏∏Êàè,ÁîüÂëΩÂÄºËÆ°ÁÆóÂô®"}]},data(){return{players:[],customAmount:500,quickAmounts:[100,500,1e3,2e3],gameStartTime:null,gameDuration:0,totalTurns:0,gameHistory:[],showHistory:!1,showSettings:!1,settings:{initialLife:8e3,lowLifeThreshold:1e3,soundEnabled:!0},durationTimer:null}},computed:{quickAmountsStr:{get(){return this.quickAmounts.join(",")},set(t){const e=t.split(",").map((t=>parseInt(t.trim()))).filter((t=>!isNaN(t)&&t>0));e.length>0&&(this.quickAmounts=e.slice(0,6))}}},mounted(){this.loadGameData(),this.loadSettings(),this.loadGameHistory(),0===this.players.length?this.startNewGame():this.startDurationTimer()},beforeDestroy(){this.durationTimer&&clearInterval(this.durationTimer)},methods:{startNewGame(){this.players=[this.createPlayer("Áé©ÂÆ∂1"),this.createPlayer("Áé©ÂÆ∂2")],this.gameStartTime=new Date,this.gameDuration=0,this.totalTurns=0,this.startDurationTimer(),this.saveGameData()},createPlayer(t){return{name:t,currentLife:this.settings.initialLife,initialLife:this.settings.initialLife,history:[],wins:0,losses:0}},resetCurrentGame(){this.players.forEach((t=>{t.currentLife=t.initialLife,t.history=[]})),this.gameStartTime=new Date,this.gameDuration=0,this.totalTurns=0,this.startDurationTimer(),this.saveGameData()},addPlayer(){this.players.length<4&&(this.players.push(this.createPlayer(`Áé©ÂÆ∂${this.players.length+1}`)),this.saveGameData())},handlePlayerAction(t,e){"reset"===e?(this.players[t].currentLife=this.players[t].initialLife,this.players[t].history=[],this.saveGameData()):"remove"===e&&this.players.length>2&&(this.players.splice(t,1),this.saveGameData())},changeLife(t,e){const s=this.players[t],i=s.currentLife,a=Math.max(0,i+e);s.currentLife=a,s.history.push({change:e,oldLife:i,newLife:a,time:new Date}),s.history.length>50&&(s.history=s.history.slice(-50)),this.totalTurns++,0===a&&this.handleGameEnd(t),a<=this.settings.lowLifeThreshold&&a>0&&this.playSound("warning"),this.saveGameData()},handleGameEnd(t){const e=this.players[t];e.losses++,this.players.forEach(((e,s)=>{s!==t&&e.wins++})),this.saveGameToHistory(),this.$message({message:`${e.name} Ë¥•ÂåóÔºÅÊ∏∏ÊàèÁªìÊùüÔºÅ`,type:"warning",duration:5e3}),this.playSound("gameEnd")},saveGameToHistory(){const t={id:Date.now(),startTime:this.gameStartTime,endTime:new Date,duration:this.gameDuration,players:this.players.map((t=>({name:t.name,finalLife:t.currentLife,initialLife:t.initialLife,totalChanges:t.history.length}))),totalTurns:this.totalTurns};this.gameHistory.unshift(t),this.gameHistory.length>20&&(this.gameHistory=this.gameHistory.slice(0,20)),this.saveGameHistory()},deleteGameHistory(t){this.gameHistory.splice(t,1),this.saveGameHistory()},clearAllHistory(){this.$confirm("Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÂéÜÂè≤ËÆ∞ÂΩïÂêóÔºü","Á°ÆËÆ§",{confirmButtonText:"Á°ÆÂÆö",cancelButtonText:"ÂèñÊ∂à",type:"warning"}).then((()=>{this.gameHistory=[],this.saveGameHistory(),this.$message.success("ÂéÜÂè≤ËÆ∞ÂΩïÂ∑≤Ê∏ÖÁ©∫")}))},startDurationTimer(){this.durationTimer&&clearInterval(this.durationTimer),this.durationTimer=setInterval((()=>{this.gameStartTime&&(this.gameDuration=Math.floor((new Date-this.gameStartTime)/1e3))}),1e3)},getLifeClass(t){return 0===t?"zero":t<=this.settings.lowLifeThreshold?"low":t>=.8*this.settings.initialLife?"high":"normal"},getLifePercentage(t){return Math.max(0,Math.min(100,t/this.settings.initialLife*100))},getLifeStatus(t){return 0===t||t<=this.settings.lowLifeThreshold?"exception":t<=.3*this.settings.initialLife?"warning":"success"},playSound(t){this.settings.soundEnabled&&console.log("Playing sound:",t)},formatTime(t){return new Date(t).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"})},formatDateTime(t){return new Date(t).toLocaleString("zh-CN")},formatDuration(t){const e=Math.floor(t/3600),s=Math.floor(t%3600/60),i=t%60;return e>0?`${e}:${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${s}:${i.toString().padStart(2,"0")}`},saveSettings(){localStorage.setItem("yugiohLifeSettings",JSON.stringify(this.settings)),this.showSettings=!1,this.$message.success("ËÆæÁΩÆÂ∑≤‰øùÂ≠ò")},loadSettings(){const t=localStorage.getItem("yugiohLifeSettings");t&&(this.settings={...this.settings,...JSON.parse(t)})},resetSettings(){this.settings={initialLife:8e3,lowLifeThreshold:1e3,soundEnabled:!0}},saveGameData(){const t={players:this.players,gameStartTime:this.gameStartTime,totalTurns:this.totalTurns};localStorage.setItem("yugiohLifeGame",JSON.stringify(t))},loadGameData(){const t=localStorage.getItem("yugiohLifeGame");if(t){const e=JSON.parse(t);this.players=e.players||[],this.gameStartTime=e.gameStartTime?new Date(e.gameStartTime):null,this.totalTurns=e.totalTurns||0}},saveGameHistory(){localStorage.setItem("yugiohLifeHistory",JSON.stringify(this.gameHistory))},loadGameHistory(){const t=localStorage.getItem("yugiohLifeHistory");t&&(this.gameHistory=JSON.parse(t))}}}),r=n,o=s(81656),l=(0,o.A)(r,i,a,!1,null,"921a64ec",null),c=l.exports}}]);
//# sourceMappingURL=5376.8dcdc0e0.js.map