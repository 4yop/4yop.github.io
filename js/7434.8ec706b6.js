"use strict";(self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[]).push([[7434],{46834:function(t,r,e){e.d(r,{V:function(){return a}});e(16280);class a{static async copyText(t){try{if("string"!==typeof t)throw new Error("复制的内容必须是字符串");if(""===t.trim())throw new Error("复制的内容不能为空");return navigator.clipboard&&window.isSecureContext?(await navigator.clipboard.writeText(t),!0):this.fallbackCopyText(t)}catch(r){return console.error("复制文本失败:",r),!1}}static fallbackCopyText(t){let r=null;try{r=document.createElement("textarea"),r.value=t,r.style.position="fixed",r.style.left="-9999px",r.style.top="-9999px",r.style.opacity="0",r.style.pointerEvents="none",document.body.appendChild(r),r.focus(),r.select(),r.setSelectionRange(0,t.length);const e=document.execCommand("copy");return e}catch(e){return console.error("兼容模式复制失败:",e),!1}finally{r&&r.parentNode&&document.body.removeChild(r)}}static async copyImage(t){try{if(!navigator.clipboard||!navigator.clipboard.write)throw new Error("浏览器不支持图片复制功能");let r;if(t instanceof Blob)r=t;else if(t instanceof HTMLCanvasElement)r=await this.canvasToBlob(t);else{if("string"!==typeof t)throw new Error("不支持的图片源类型");r=await this.dataURLToBlob(t)}const e=new ClipboardItem({[r.type]:r});return await navigator.clipboard.write([e]),!0}catch(r){return console.error("复制图片失败:",r),!1}}static canvasToBlob(t,r="image/png",e=1){return new Promise((a=>{t.toBlob(a,r,e)}))}static async dataURLToBlob(t){try{const r=await fetch(t);return await r.blob()}catch(r){throw console.error("DataURL转Blob失败:",r),r}}static async readText(){try{if(navigator.clipboard&&navigator.clipboard.readText)return await navigator.clipboard.readText();throw new Error("浏览器不支持读取剪贴板")}catch(t){throw console.error("读取剪贴板失败:",t),t}}static async readImage(){try{if(!navigator.clipboard||!navigator.clipboard.read)throw new Error("浏览器不支持读取剪贴板图片");const t=await navigator.clipboard.read();for(const r of t)for(const t of r.types)if(t.startsWith("image/"))return await r.getType(t);throw new Error("剪贴板中没有图片")}catch(t){throw console.error("读取剪贴板图片失败:",t),t}}static checkSupport(){return{writeText:!(!navigator.clipboard||!navigator.clipboard.writeText),readText:!(!navigator.clipboard||!navigator.clipboard.readText),writeImage:!(!navigator.clipboard||!navigator.clipboard.write),readImage:!(!navigator.clipboard||!navigator.clipboard.read),isSecureContext:window.isSecureContext}}static async copyLines(t){const r=Array.isArray(t)?t.join("\n"):String(t);return await this.copyText(r)}static async copyJSON(t,r=2){try{const e=JSON.stringify(t,null,r);return await this.copyText(e)}catch(e){return console.error("复制JSON失败:",e),!1}}static async copyTable(t,r=null){try{let e="";return r&&r.length>0&&(e+=r.join("\t")+"\n"),t.forEach((t=>{if(Array.isArray(t))e+=t.join("\t")+"\n";else if("object"===typeof t){const a=r?r.map((r=>t[r]||"")):Object.values(t);e+=a.join("\t")+"\n"}})),await this.copyText(e.trim())}catch(e){return console.error("复制表格失败:",e),!1}}}},54623:function(t,r,e){e.d(r,{I:function(){return a}});e(44114),e(72712),e(14603),e(47566),e(98721);class a{static rgbToHex(t,r,e){if(Array.isArray(t))return 3!==t.length?"":"#"+t.map((t=>t.toString(16).padStart(2,"0"))).join("").toUpperCase();if("number"===typeof t&&"number"===typeof r&&"number"===typeof e){const a=t=>{const r=Math.round(Math.max(0,Math.min(255,t))).toString(16);return 1===r.length?"0"+r:r};return`#${a(t)}${a(r)}${a(e)}`.toUpperCase()}return""}static hexToRgb(t){4===t.length&&(t=t.replace(/^#(.)(.)(.)$/,"#$1$1$2$2$3$3"));const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:null}static randomColor(t="hex"){const r=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());switch(t){case"rgb":return`rgb(${r}, ${e}, ${a})`;case"hsl":{const t=this.rgbToHsl(r,e,a);return`hsl(${t.h}, ${t.s}%, ${t.l}%)`}case"hex":default:return this.rgbToHex(r,e,a)}}static randomGradient(t="hex"){const r=this.randomColor(t),e=this.randomColor(t),a=Math.floor(360*Math.random());return`linear-gradient(${a}deg, ${r}, ${e})`}static rgbToHsl(t,r,e){Array.isArray(t)&&([t,r,e]=t),t/=255,r/=255,e/=255;const a=Math.max(t,r,e),o=Math.min(t,r,e);let n,s,c=(a+o)/2;if(a===o)n=s=0;else{const i=a-o;switch(s=c>.5?i/(2-a-o):i/(a+o),a){case t:n=(r-e)/i+(r<e?6:0);break;case r:n=(e-t)/i+2;break;case e:n=(t-r)/i+4;break}n/=6}return{h:Math.round(360*n),s:Math.round(100*s),l:Math.round(100*c)}}static hslToHex(t,r,e){t/=360,r/=100,e/=100;const a=(t,r,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t);let o,n,s;if(0===r)o=n=s=e;else{const c=e<.5?e*(1+r):e+r-e*r,i=2*e-c;o=a(i,c,t+1/3),n=a(i,c,t),s=a(i,c,t-1/3)}return this.rgbToHex(Math.round(255*o),Math.round(255*n),Math.round(255*s))}static rgbToCmyk(t,r,e){t/=255,r/=255,e/=255;const a=1-Math.max(t,Math.max(r,e)),o=1===a?0:(1-t-a)/(1-a),n=1===a?0:(1-r-a)/(1-a),s=1===a?0:(1-e-a)/(1-a);return{c:Math.round(100*o),m:Math.round(100*n),y:Math.round(100*s),k:Math.round(100*a)}}static rgbToHsv(t,r,e){t/=255,r/=255,e/=255;const a=Math.max(t,r,e),o=Math.min(t,r,e);let n,s,c=a;const i=a-o;if(s=0===a?0:i/a,a===o)n=0;else{switch(a){case t:n=(r-e)/i+(r<e?6:0);break;case r:n=(e-t)/i+2;break;case e:n=(t-r)/i+4;break}n/=6}return{h:Math.round(360*n),s:Math.round(100*s),v:Math.round(100*c)}}static getContrastColor(t){let r=0,e=0,a=0;7===t.length?(r=parseInt(t.substr(1,2),16),e=parseInt(t.substr(3,2),16),a=parseInt(t.substr(5,2),16)):4===t.length&&(r=parseInt(t[1]+t[1],16),e=parseInt(t[2]+t[2],16),a=parseInt(t[3]+t[3],16));const o=(299*r+587*e+114*a)/1e3;return o>=128?"#000000":"#FFFFFF"}static formatRgb(t){return t&&3===t.length?`rgb(${t.join(", ")})`:""}static formatHex(t){return t?t.startsWith("#")?t:"#"+t:""}static isValidHex(t){return/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)}static parseRgb(t){const r=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);return r?{r:parseInt(r[1]),g:parseInt(r[2]),b:parseInt(r[3])}:null}static parseHsl(t){const r=t.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return r?{h:parseInt(r[1]),s:parseInt(r[2]),l:parseInt(r[3])}:null}static async getImageMainColor(t){try{const{default:r}=await e.e(1130).then(e.t.bind(e,91130,23));return new Promise(((e,a)=>{const o=new window.Image;o.crossOrigin="Anonymous",o.onload=()=>{try{const t=new r,a=t.getColor(o);e(a)}catch(t){a(t)}},o.onerror=a,o.src=URL.createObjectURL(t)}))}catch(r){throw console.error("获取图片主色失败:",r),r}}static async getImageAvgColor(t){return new Promise(((r,e)=>{const a=new window.Image;a.crossOrigin="Anonymous",a.onload=()=>{try{const t=document.createElement("canvas");t.width=a.width,t.height=a.height;const e=t.getContext("2d");e.drawImage(a,0,0);const o=e.getImageData(0,0,t.width,t.height),n=o.data;let s=0,c=0,i=0,l=0;for(let r=0;r<n.length;r+=4)s+=n[r],c+=n[r+1],i+=n[r+2],l++;s=Math.round(s/l),c=Math.round(c/l),i=Math.round(i/l),r([s,c,i])}catch(t){e(t)}},a.onerror=e,a.src=URL.createObjectURL(t)}))}static async getImageColorPalette(t,r=5){try{const{default:a}=await e.e(1130).then(e.t.bind(e,91130,23));return new Promise(((e,o)=>{const n=new window.Image;n.crossOrigin="Anonymous",n.onload=()=>{try{const t=new a,o=t.getPalette(n,r);e(o)}catch(t){o(t)}},n.onerror=o,n.src=URL.createObjectURL(t)}))}catch(a){throw console.error("获取图片调色板失败:",a),a}}static async analyzeImageColors(t){try{const[r,e,a]=await Promise.all([this.getImageMainColor(t),this.getImageAvgColor(t),this.getImageColorPalette(t,5)]);return{mainColor:{rgb:r,hex:this.rgbToHex(r),hsl:this.rgbToHsl(r[0],r[1],r[2])},avgColor:{rgb:e,hex:this.rgbToHex(e),hsl:this.rgbToHsl(e[0],e[1],e[2])},palette:a.map((t=>({rgb:t,hex:this.rgbToHex(t),hsl:this.rgbToHsl(t[0],t[1],t[2])}))),analysis:{mainColorBrightness:this.calculateBrightness(r),avgColorBrightness:this.calculateBrightness(e),dominantHue:this.getDominantHue(a),colorVariety:this.calculateColorVariety(a)}}}catch(r){throw console.error("图片颜色分析失败:",r),r}}static calculateBrightness(t){const[r,e,a]=t;return Math.round((299*r+587*e+114*a)/1e3)}static getDominantHue(t){if(!t||0===t.length)return"Unknown";const r=t.map((t=>{const r=this.rgbToHsl(t[0],t[1],t[2]);return r.h})),e=r.reduce(((t,r)=>t+r),0)/r.length;return e>=0&&e<30?"Red":e>=30&&e<60?"Orange":e>=60&&e<120?"Yellow":e>=120&&e<180?"Green":e>=180&&e<240?"Cyan":e>=240&&e<300?"Blue":e>=300&&e<360?"Magenta":"Mixed"}static calculateColorVariety(t){if(!t||t.length<=1)return 0;let r=0,e=0;for(let o=0;o<t.length;o++)for(let a=o+1;a<t.length;a++){const[n,s,c]=t[o],[i,l,h]=t[a],g=Math.sqrt(Math.pow(i-n,2)+Math.pow(l-s,2)+Math.pow(h-c,2));r+=g,e++}const a=r/e;return Math.min(100,Math.round(a/441.67*100))}static async batchAnalyzeImageColors(t,r){const e=[];for(let o=0;o<t.length;o++)try{const a=await this.analyzeImageColors(t[o]);e.push({file:t[o],success:!0,data:a}),r&&r(o+1,t.length,t[o].name)}catch(a){e.push({file:t[o],success:!1,error:a.message}),r&&r(o+1,t.length,t[o].name,a)}return e}}}}]);
//# sourceMappingURL=7434.8ec706b6.js.map