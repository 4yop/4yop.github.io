{"version":3,"file":"js/9090.04870641.js","mappings":"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","sources":["webpack://web-tool-vue/./src/views/tools/CameraRecorderView.vue","webpack://web-tool-vue/src/views/tools/CameraRecorderView.vue","webpack://web-tool-vue/./src/views/tools/CameraRecorderView.vue?92b8","webpack://web-tool-vue/./src/views/tools/CameraRecorderView.vue?c49b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"camera-recorder-container\"},[_vm._m(0),_c('div',{staticClass:\"recorder-section\"},[_c('div',{staticClass:\"camera-preview\"},[_c('video',{ref:\"videoPreview\",class:{ 'recording': _vm.isRecording },attrs:{\"autoplay\":\"\",\"muted\":\"\",\"playsinline\":\"\"},domProps:{\"muted\":true}}),(_vm.isRecording)?_c('div',{staticClass:\"recording-indicator\"},[_c('div',{staticClass:\"recording-dot\"}),_c('span',[_vm._v(\"å½•åˆ¶ä¸­ \"+_vm._s(_vm.formatTime(_vm.recordingTime)))])]):_vm._e(),(!_vm.cameraStarted)?_c('div',{staticClass:\"camera-placeholder\"},[_c('div',{staticClass:\"placeholder-icon\"},[_vm._v(\"ğŸ“¹\")]),_c('div',{staticClass:\"placeholder-text\"},[_vm._v(\"ç‚¹å‡»å¯åŠ¨æ‘„åƒå¤´\")])]):_vm._e()]),_c('div',{staticClass:\"control-buttons\"},[_c('div',{staticClass:\"main-controls\"},[(!_vm.cameraStarted)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"loading\":_vm.startingCamera},on:{\"click\":_vm.startCamera}},[_c('i',{staticClass:\"el-icon-video-camera\"}),_vm._v(\" å¯åŠ¨æ‘„åƒå¤´ \")]):[(!_vm.isRecording)?_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"large\",\"disabled\":!_vm.canRecord},on:{\"click\":_vm.startRecording}},[_c('i',{staticClass:\"el-icon-video-play\"}),_vm._v(\" å¼€å§‹å½•åˆ¶ \")]):_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"large\"},on:{\"click\":_vm.stopRecording}},[_c('i',{staticClass:\"el-icon-video-pause\"}),_vm._v(\" åœæ­¢å½•åˆ¶ \")]),_c('el-button',{attrs:{\"size\":\"large\",\"disabled\":_vm.isRecording},on:{\"click\":_vm.takePhoto}},[_c('i',{staticClass:\"el-icon-camera\"}),_vm._v(\" æ‹ç…§ \")]),_c('el-button',{attrs:{\"size\":\"large\"},on:{\"click\":_vm.stopCamera}},[_c('i',{staticClass:\"el-icon-switch-button\"}),_vm._v(\" å…³é—­æ‘„åƒå¤´ \")])]],2),(_vm.cameraStarted)?_c('div',{staticClass:\"settings-controls\"},[_c('div',{staticClass:\"setting-item\"},[_c('label',[_vm._v(\"æ‘„åƒå¤´:\")]),_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.switchCamera},model:{value:(_vm.selectedCamera),callback:function ($$v) {_vm.selectedCamera=$$v},expression:\"selectedCamera\"}},_vm._l((_vm.availableCameras),function(camera){return _c('el-option',{key:camera.deviceId,attrs:{\"label\":camera.label || `æ‘„åƒå¤´ ${camera.deviceId.substr(0, 8)}`,\"value\":camera.deviceId}})}),1)],1),_c('div',{staticClass:\"setting-item\"},[_c('label',[_vm._v(\"åˆ†è¾¨ç‡:\")]),_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.changeResolution},model:{value:(_vm.selectedResolution),callback:function ($$v) {_vm.selectedResolution=$$v},expression:\"selectedResolution\"}},[_c('el-option',{attrs:{\"label\":\"720p (1280x720)\",\"value\":\"720p\"}}),_c('el-option',{attrs:{\"label\":\"1080p (1920x1080)\",\"value\":\"1080p\"}}),_c('el-option',{attrs:{\"label\":\"4K (3840x2160)\",\"value\":\"4k\"}})],1)],1),_c('div',{staticClass:\"setting-item\"},[_c('el-checkbox',{attrs:{\"disabled\":_vm.isRecording},model:{value:(_vm.includeAudio),callback:function ($$v) {_vm.includeAudio=$$v},expression:\"includeAudio\"}},[_vm._v(\" å½•åˆ¶éŸ³é¢‘ \")])],1)]):_vm._e()]),(_vm.recordings.length > 0 || _vm.photos.length > 0)?_c('div',{staticClass:\"recordings-section\"},[_c('el-tabs',{model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[(_vm.recordings.length > 0)?_c('el-tab-pane',{attrs:{\"label\":\"ğŸ“¹ å½•åˆ¶è§†é¢‘\",\"name\":\"videos\"}},[_c('div',{staticClass:\"recordings-list\"},_vm._l((_vm.recordings),function(recording,index){return _c('div',{key:index,staticClass:\"recording-item\"},[_c('video',{staticClass:\"recording-preview\",attrs:{\"src\":recording.url,\"controls\":\"\"}}),_c('div',{staticClass:\"recording-info\"},[_c('div',{staticClass:\"recording-name\"},[_vm._v(\"è§†é¢‘ \"+_vm._s(index + 1))]),_c('div',{staticClass:\"recording-details\"},[_c('span',[_vm._v(\"æ—¶é•¿: \"+_vm._s(_vm.formatTime(recording.duration)))]),_c('span',[_vm._v(\"å¤§å°: \"+_vm._s(_vm.formatFileSize(recording.size)))]),_c('span',[_vm._v(\"æ—¶é—´: \"+_vm._s(recording.timestamp))])]),_c('div',{staticClass:\"recording-actions\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.downloadRecording(recording, index)}}},[_c('i',{staticClass:\"el-icon-download\"}),_vm._v(\" ä¸‹è½½ \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteRecording(index)}}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\" åˆ é™¤ \")])],1)])])}),0)]):_vm._e(),(_vm.photos.length > 0)?_c('el-tab-pane',{attrs:{\"label\":\"ğŸ“· æ‹æ‘„ç…§ç‰‡\",\"name\":\"photos\"}},[_c('div',{staticClass:\"photos-grid\"},_vm._l((_vm.photos),function(photo,index){return _c('div',{key:index,staticClass:\"photo-item\"},[_c('img',{attrs:{\"src\":photo.url,\"alt\":`ç…§ç‰‡ ${index + 1}`}}),_c('div',{staticClass:\"photo-overlay\"},[_c('div',{staticClass:\"photo-actions\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.downloadPhoto(photo, index)}}},[_c('i',{staticClass:\"el-icon-download\"})]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deletePhoto(index)}}},[_c('i',{staticClass:\"el-icon-delete\"})])],1)])])}),0)]):_vm._e()],1)],1):_vm._e(),(!_vm.cameraStarted && _vm.recordings.length === 0 && _vm.photos.length === 0)?_c('div',{staticClass:\"empty-state\"},[_c('div',{staticClass:\"empty-icon\"},[_vm._v(\"ğŸ“¹\")]),_c('div',{staticClass:\"empty-text\"},[_vm._v(\"å¼€å§‹ä½¿ç”¨æ‘„åƒå¤´å½•åˆ¶å™¨\")]),_vm._m(1)]):_vm._e()]),_c('el-dialog',{attrs:{\"title\":\"ğŸ“¹ æ‘„åƒå¤´æƒé™\",\"visible\":_vm.showPermissionDialog,\"width\":\"400px\",\"center\":\"\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.showPermissionDialog=$event}}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"padding\":\"20px\"}},[_c('div',{staticStyle:{\"font-size\":\"48px\",\"margin-bottom\":\"20px\"}},[_vm._v(\"ğŸ”’\")]),_c('p',{staticStyle:{\"font-size\":\"16px\",\"color\":\"#2c3e50\",\"margin-bottom\":\"15px\"}},[_vm._v(\" éœ€è¦è®¿é—®æ‚¨çš„æ‘„åƒå¤´å’Œéº¦å…‹é£æƒé™ \")]),_c('p',{staticStyle:{\"color\":\"#7f8c8d\",\"font-size\":\"14px\"}},[_vm._v(\" è¯·åœ¨æµè§ˆå™¨å¼¹å‡ºçš„æƒé™è¯·æ±‚ä¸­ç‚¹å‡»\\\"å…è®¸\\\" \")])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showPermissionDialog = false}}},[_vm._v(\"å–æ¶ˆ\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.requestPermission}},[_vm._v(\"é‡æ–°è¯·æ±‚\")])],1)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-header\"},[_c('h1',[_vm._v(\"ğŸ“¹ æ‘„åƒå¤´å½•åˆ¶å™¨\")]),_c('p',{staticClass:\"page-description\"},[_vm._v(\"è°ƒç”¨æ‘„åƒå¤´è¿›è¡Œè§†é¢‘å½•åˆ¶å’Œæ‹ç…§ï¼Œæ”¯æŒéŸ³é¢‘å½•åˆ¶\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"empty-tips\"},[_c('p',[_vm._v(\"åŠŸèƒ½ç‰¹ç‚¹ï¼š\")]),_c('ul',[_c('li',[_vm._v(\"âœ… é«˜æ¸…è§†é¢‘å½•åˆ¶\")]),_c('li',[_vm._v(\"âœ… éŸ³é¢‘åŒæ­¥å½•åˆ¶\")]),_c('li',[_vm._v(\"âœ… å®æ—¶æ‹ç…§åŠŸèƒ½\")]),_c('li',[_vm._v(\"âœ… å¤šæ‘„åƒå¤´åˆ‡æ¢\")]),_c('li',[_vm._v(\"âœ… åˆ†è¾¨ç‡è°ƒèŠ‚\")]),_c('li',[_vm._v(\"âœ… æœ¬åœ°å­˜å‚¨ä¸‹è½½\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"camera-recorder-container\">\n    <div class=\"page-header\">\n      <h1>ğŸ“¹ æ‘„åƒå¤´å½•åˆ¶å™¨</h1>\n      <p class=\"page-description\">è°ƒç”¨æ‘„åƒå¤´è¿›è¡Œè§†é¢‘å½•åˆ¶å’Œæ‹ç…§ï¼Œæ”¯æŒéŸ³é¢‘å½•åˆ¶</p>\n    </div>\n\n    <div class=\"recorder-section\">\n      <!-- æ‘„åƒå¤´é¢„è§ˆåŒºåŸŸ -->\n      <div class=\"camera-preview\">\n        <video\n          ref=\"videoPreview\"\n          :class=\"{ 'recording': isRecording }\"\n          autoplay\n          muted\n          playsinline\n        ></video>\n        \n        <!-- å½•åˆ¶çŠ¶æ€æŒ‡ç¤ºå™¨ -->\n        <div v-if=\"isRecording\" class=\"recording-indicator\">\n          <div class=\"recording-dot\"></div>\n          <span>å½•åˆ¶ä¸­ {{ formatTime(recordingTime) }}</span>\n        </div>\n\n        <!-- æ‘„åƒå¤´æœªå¯åŠ¨æ—¶çš„å ä½ç¬¦ -->\n        <div v-if=\"!cameraStarted\" class=\"camera-placeholder\">\n          <div class=\"placeholder-icon\">ğŸ“¹</div>\n          <div class=\"placeholder-text\">ç‚¹å‡»å¯åŠ¨æ‘„åƒå¤´</div>\n        </div>\n      </div>\n\n      <!-- æ§åˆ¶æŒ‰é’® -->\n      <div class=\"control-buttons\">\n        <div class=\"main-controls\">\n          <el-button\n            v-if=\"!cameraStarted\"\n            type=\"primary\"\n            size=\"large\"\n            @click=\"startCamera\"\n            :loading=\"startingCamera\"\n          >\n            <i class=\"el-icon-video-camera\"></i> å¯åŠ¨æ‘„åƒå¤´\n          </el-button>\n\n          <template v-else>\n            <el-button\n              v-if=\"!isRecording\"\n              type=\"danger\"\n              size=\"large\"\n              @click=\"startRecording\"\n              :disabled=\"!canRecord\"\n            >\n              <i class=\"el-icon-video-play\"></i> å¼€å§‹å½•åˆ¶\n            </el-button>\n\n            <el-button\n              v-else\n              type=\"warning\"\n              size=\"large\"\n              @click=\"stopRecording\"\n            >\n              <i class=\"el-icon-video-pause\"></i> åœæ­¢å½•åˆ¶\n            </el-button>\n\n            <el-button\n              size=\"large\"\n              @click=\"takePhoto\"\n              :disabled=\"isRecording\"\n            >\n              <i class=\"el-icon-camera\"></i> æ‹ç…§\n            </el-button>\n\n            <el-button\n              size=\"large\"\n              @click=\"stopCamera\"\n            >\n              <i class=\"el-icon-switch-button\"></i> å…³é—­æ‘„åƒå¤´\n            </el-button>\n          </template>\n        </div>\n\n        <!-- è®¾ç½®é€‰é¡¹ -->\n        <div class=\"settings-controls\" v-if=\"cameraStarted\">\n          <div class=\"setting-item\">\n            <label>æ‘„åƒå¤´:</label>\n            <el-select v-model=\"selectedCamera\" @change=\"switchCamera\" size=\"small\">\n              <el-option\n                v-for=\"camera in availableCameras\"\n                :key=\"camera.deviceId\"\n                :label=\"camera.label || `æ‘„åƒå¤´ ${camera.deviceId.substr(0, 8)}`\"\n                :value=\"camera.deviceId\"\n              ></el-option>\n            </el-select>\n          </div>\n\n          <div class=\"setting-item\">\n            <label>åˆ†è¾¨ç‡:</label>\n            <el-select v-model=\"selectedResolution\" @change=\"changeResolution\" size=\"small\">\n              <el-option label=\"720p (1280x720)\" value=\"720p\"></el-option>\n              <el-option label=\"1080p (1920x1080)\" value=\"1080p\"></el-option>\n              <el-option label=\"4K (3840x2160)\" value=\"4k\"></el-option>\n            </el-select>\n          </div>\n\n          <div class=\"setting-item\">\n            <el-checkbox v-model=\"includeAudio\" :disabled=\"isRecording\">\n              å½•åˆ¶éŸ³é¢‘\n            </el-checkbox>\n          </div>\n        </div>\n      </div>\n\n      <!-- å½•åˆ¶åˆ—è¡¨ -->\n      <div class=\"recordings-section\" v-if=\"recordings.length > 0 || photos.length > 0\">\n        <el-tabs v-model=\"activeTab\">\n          <el-tab-pane label=\"ğŸ“¹ å½•åˆ¶è§†é¢‘\" name=\"videos\" v-if=\"recordings.length > 0\">\n            <div class=\"recordings-list\">\n              <div\n                v-for=\"(recording, index) in recordings\"\n                :key=\"index\"\n                class=\"recording-item\"\n              >\n                <video\n                  :src=\"recording.url\"\n                  controls\n                  class=\"recording-preview\"\n                ></video>\n                <div class=\"recording-info\">\n                  <div class=\"recording-name\">è§†é¢‘ {{ index + 1 }}</div>\n                  <div class=\"recording-details\">\n                    <span>æ—¶é•¿: {{ formatTime(recording.duration) }}</span>\n                    <span>å¤§å°: {{ formatFileSize(recording.size) }}</span>\n                    <span>æ—¶é—´: {{ recording.timestamp }}</span>\n                  </div>\n                  <div class=\"recording-actions\">\n                    <el-button size=\"mini\" @click=\"downloadRecording(recording, index)\">\n                      <i class=\"el-icon-download\"></i> ä¸‹è½½\n                    </el-button>\n                    <el-button size=\"mini\" type=\"danger\" @click=\"deleteRecording(index)\">\n                      <i class=\"el-icon-delete\"></i> åˆ é™¤\n                    </el-button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </el-tab-pane>\n\n          <el-tab-pane label=\"ğŸ“· æ‹æ‘„ç…§ç‰‡\" name=\"photos\" v-if=\"photos.length > 0\">\n            <div class=\"photos-grid\">\n              <div\n                v-for=\"(photo, index) in photos\"\n                :key=\"index\"\n                class=\"photo-item\"\n              >\n                <img :src=\"photo.url\" :alt=\"`ç…§ç‰‡ ${index + 1}`\" />\n                <div class=\"photo-overlay\">\n                  <div class=\"photo-actions\">\n                    <el-button size=\"mini\" @click=\"downloadPhoto(photo, index)\">\n                      <i class=\"el-icon-download\"></i>\n                    </el-button>\n                    <el-button size=\"mini\" type=\"danger\" @click=\"deletePhoto(index)\">\n                      <i class=\"el-icon-delete\"></i>\n                    </el-button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n\n      <!-- ç©ºçŠ¶æ€ -->\n      <div class=\"empty-state\" v-if=\"!cameraStarted && recordings.length === 0 && photos.length === 0\">\n        <div class=\"empty-icon\">ğŸ“¹</div>\n        <div class=\"empty-text\">å¼€å§‹ä½¿ç”¨æ‘„åƒå¤´å½•åˆ¶å™¨</div>\n        <div class=\"empty-tips\">\n          <p>åŠŸèƒ½ç‰¹ç‚¹ï¼š</p>\n          <ul>\n            <li>âœ… é«˜æ¸…è§†é¢‘å½•åˆ¶</li>\n            <li>âœ… éŸ³é¢‘åŒæ­¥å½•åˆ¶</li>\n            <li>âœ… å®æ—¶æ‹ç…§åŠŸèƒ½</li>\n            <li>âœ… å¤šæ‘„åƒå¤´åˆ‡æ¢</li>\n            <li>âœ… åˆ†è¾¨ç‡è°ƒèŠ‚</li>\n            <li>âœ… æœ¬åœ°å­˜å‚¨ä¸‹è½½</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <!-- æƒé™è¯·æ±‚å¯¹è¯æ¡† -->\n    <el-dialog\n      title=\"ğŸ“¹ æ‘„åƒå¤´æƒé™\"\n      :visible.sync=\"showPermissionDialog\"\n      width=\"400px\"\n      center\n      :close-on-click-modal=\"false\"\n    >\n      <div style=\"text-align: center; padding: 20px;\">\n        <div style=\"font-size: 48px; margin-bottom: 20px;\">ğŸ”’</div>\n        <p style=\"font-size: 16px; color: #2c3e50; margin-bottom: 15px;\">\n          éœ€è¦è®¿é—®æ‚¨çš„æ‘„åƒå¤´å’Œéº¦å…‹é£æƒé™\n        </p>\n        <p style=\"color: #7f8c8d; font-size: 14px;\">\n          è¯·åœ¨æµè§ˆå™¨å¼¹å‡ºçš„æƒé™è¯·æ±‚ä¸­ç‚¹å‡»\"å…è®¸\"\n        </p>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showPermissionDialog = false\">å–æ¶ˆ</el-button>\n        <el-button type=\"primary\" @click=\"requestPermission\">é‡æ–°è¯·æ±‚</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CameraRecorderView',\n  data() {\n    return {\n      cameraStarted: false,\n      startingCamera: false,\n      isRecording: false,\n      canRecord: false,\n      includeAudio: true,\n      recordingTime: 0,\n      \n      selectedCamera: '',\n      selectedResolution: '720p',\n      availableCameras: [],\n      \n      currentStream: null,\n      mediaRecorder: null,\n      recordedChunks: [],\n      recordingTimer: null,\n      \n      recordings: [],\n      photos: [],\n      activeTab: 'videos',\n      \n      showPermissionDialog: false\n    }\n  },\n  methods: {\n    async startCamera() {\n      this.startingCamera = true\n      \n      try {\n        // è·å–å¯ç”¨è®¾å¤‡\n        await this.getAvailableDevices()\n        \n        // å¯åŠ¨æ‘„åƒå¤´\n        await this.initializeCamera()\n        \n        this.cameraStarted = true\n        this.canRecord = true\n        this.$message.success('æ‘„åƒå¤´å¯åŠ¨æˆåŠŸï¼')\n      } catch (error) {\n        console.error('å¯åŠ¨æ‘„åƒå¤´å¤±è´¥:', error)\n        this.handleCameraError(error)\n      } finally {\n        this.startingCamera = false\n      }\n    },\n\n    async getAvailableDevices() {\n      try {\n        const devices = await navigator.mediaDevices.enumerateDevices()\n        this.availableCameras = devices.filter(device => device.kind === 'videoinput')\n        \n        if (this.availableCameras.length > 0 && !this.selectedCamera) {\n          this.selectedCamera = this.availableCameras[0].deviceId\n        }\n      } catch (error) {\n        console.error('è·å–è®¾å¤‡åˆ—è¡¨å¤±è´¥:', error)\n      }\n    },\n\n    async initializeCamera() {\n      const constraints = {\n        video: {\n          deviceId: this.selectedCamera ? { exact: this.selectedCamera } : undefined,\n          ...this.getResolutionConstraints()\n        },\n        audio: this.includeAudio\n      }\n\n      try {\n        this.currentStream = await navigator.mediaDevices.getUserMedia(constraints)\n        this.$refs.videoPreview.srcObject = this.currentStream\n      } catch (error) {\n        if (error.name === 'NotAllowedError') {\n          this.showPermissionDialog = true\n        }\n        throw error\n      }\n    },\n\n    getResolutionConstraints() {\n      const resolutions = {\n        '720p': { width: 1280, height: 720 },\n        '1080p': { width: 1920, height: 1080 },\n        '4k': { width: 3840, height: 2160 }\n      }\n      return resolutions[this.selectedResolution] || resolutions['720p']\n    },\n\n    async switchCamera() {\n      if (this.currentStream) {\n        this.stopCurrentStream()\n        await this.initializeCamera()\n      }\n    },\n\n    async changeResolution() {\n      if (this.currentStream) {\n        this.stopCurrentStream()\n        await this.initializeCamera()\n      }\n    },\n\n    startRecording() {\n      if (!this.currentStream) return\n\n      this.recordedChunks = []\n      \n      const options = {\n        mimeType: 'video/webm;codecs=vp9,opus'\n      }\n\n      try {\n        this.mediaRecorder = new MediaRecorder(this.currentStream, options)\n      } catch (error) {\n        // é™çº§åˆ°æ›´å…¼å®¹çš„æ ¼å¼\n        this.mediaRecorder = new MediaRecorder(this.currentStream)\n      }\n\n      this.mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          this.recordedChunks.push(event.data)\n        }\n      }\n\n      this.mediaRecorder.onstop = () => {\n        this.saveRecording()\n      }\n\n      this.mediaRecorder.start()\n      this.isRecording = true\n      this.recordingTime = 0\n      \n      this.recordingTimer = setInterval(() => {\n        this.recordingTime++\n      }, 1000)\n\n      this.$message.success('å¼€å§‹å½•åˆ¶ï¼')\n    },\n\n    stopRecording() {\n      if (this.mediaRecorder && this.isRecording) {\n        this.mediaRecorder.stop()\n        this.isRecording = false\n        \n        if (this.recordingTimer) {\n          clearInterval(this.recordingTimer)\n          this.recordingTimer = null\n        }\n\n        this.$message.success('å½•åˆ¶å®Œæˆï¼')\n      }\n    },\n\n    saveRecording() {\n      const blob = new Blob(this.recordedChunks, { type: 'video/webm' })\n      const url = URL.createObjectURL(blob)\n      \n      const recording = {\n        url: url,\n        blob: blob,\n        duration: this.recordingTime,\n        size: blob.size,\n        timestamp: new Date().toLocaleString('zh-CN')\n      }\n      \n      this.recordings.unshift(recording)\n      this.activeTab = 'videos'\n    },\n\n    takePhoto() {\n      if (!this.currentStream) return\n\n      const video = this.$refs.videoPreview\n      const canvas = document.createElement('canvas')\n      const ctx = canvas.getContext('2d')\n\n      canvas.width = video.videoWidth\n      canvas.height = video.videoHeight\n      \n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height)\n      \n      canvas.toBlob((blob) => {\n        const url = URL.createObjectURL(blob)\n        \n        const photo = {\n          url: url,\n          blob: blob,\n          timestamp: new Date().toLocaleString('zh-CN')\n        }\n        \n        this.photos.unshift(photo)\n        this.activeTab = 'photos'\n        this.$message.success('æ‹ç…§æˆåŠŸï¼')\n      }, 'image/jpeg', 0.9)\n    },\n\n    stopCamera() {\n      this.stopCurrentStream()\n      this.cameraStarted = false\n      this.canRecord = false\n      this.isRecording = false\n      \n      if (this.recordingTimer) {\n        clearInterval(this.recordingTimer)\n        this.recordingTimer = null\n      }\n    },\n\n    stopCurrentStream() {\n      if (this.currentStream) {\n        this.currentStream.getTracks().forEach(track => track.stop())\n        this.currentStream = null\n      }\n    },\n\n    downloadRecording(recording, index) {\n      const link = document.createElement('a')\n      link.href = recording.url\n      link.download = `å½•åˆ¶è§†é¢‘_${index + 1}_${Date.now()}.webm`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    },\n\n    downloadPhoto(photo, index) {\n      const link = document.createElement('a')\n      link.href = photo.url\n      link.download = `æ‹æ‘„ç…§ç‰‡_${index + 1}_${Date.now()}.jpg`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    },\n\n    deleteRecording(index) {\n      this.$confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå½•åˆ¶è§†é¢‘å—ï¼Ÿ', 'ç¡®è®¤åˆ é™¤', {\n        confirmButtonText: 'åˆ é™¤',\n        cancelButtonText: 'å–æ¶ˆ',\n        type: 'warning'\n      }).then(() => {\n        URL.revokeObjectURL(this.recordings[index].url)\n        this.recordings.splice(index, 1)\n        this.$message.success('åˆ é™¤æˆåŠŸï¼')\n      })\n    },\n\n    deletePhoto(index) {\n      this.$confirm('ç¡®å®šè¦åˆ é™¤è¿™å¼ ç…§ç‰‡å—ï¼Ÿ', 'ç¡®è®¤åˆ é™¤', {\n        confirmButtonText: 'åˆ é™¤',\n        cancelButtonText: 'å–æ¶ˆ',\n        type: 'warning'\n      }).then(() => {\n        URL.revokeObjectURL(this.photos[index].url)\n        this.photos.splice(index, 1)\n        this.$message.success('åˆ é™¤æˆåŠŸï¼')\n      })\n    },\n\n    handleCameraError(error) {\n      let message = 'æ‘„åƒå¤´å¯åŠ¨å¤±è´¥'\n      \n      switch (error.name) {\n        case 'NotAllowedError':\n          message = 'æ‘„åƒå¤´æƒé™è¢«æ‹’ç»ï¼Œè¯·å…è®¸è®¿é—®æ‘„åƒå¤´'\n          break\n        case 'NotFoundError':\n          message = 'æœªæ‰¾åˆ°æ‘„åƒå¤´è®¾å¤‡'\n          break\n        case 'NotReadableError':\n          message = 'æ‘„åƒå¤´è¢«å…¶ä»–åº”ç”¨å ç”¨'\n          break\n        case 'OverconstrainedError':\n          message = 'æ‘„åƒå¤´ä¸æ”¯æŒæ‰€é€‰åˆ†è¾¨ç‡'\n          break\n      }\n      \n      this.$message.error(message)\n    },\n\n    async requestPermission() {\n      this.showPermissionDialog = false\n      await this.startCamera()\n    },\n\n    formatTime(seconds) {\n      const mins = Math.floor(seconds / 60)\n      const secs = seconds % 60\n      return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\n    },\n\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 B'\n      const k = 1024\n      const sizes = ['B', 'KB', 'MB', 'GB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n  },\n\n  beforeDestroy() {\n    this.stopCamera()\n    \n    // æ¸…ç†æ‰€æœ‰ URL å¯¹è±¡\n    this.recordings.forEach(recording => {\n      URL.revokeObjectURL(recording.url)\n    })\n    this.photos.forEach(photo => {\n      URL.revokeObjectURL(photo.url)\n    })\n  }\n}\n</script>\n\n<style scoped>\n.camera-recorder-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.page-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.page-header h1 {\n  color: #2c3e50;\n  margin-bottom: 10px;\n  font-size: 28px;\n}\n\n.page-description {\n  color: #7f8c8d;\n  font-size: 16px;\n  line-height: 1.6;\n}\n\n.recorder-section {\n  background: #f8f9fa;\n  border-radius: 12px;\n  padding: 25px;\n  box-shadow: 0 2px 12px rgba(0,0,0,0.1);\n}\n\n/* æ‘„åƒå¤´é¢„è§ˆåŒºåŸŸ */\n.camera-preview {\n  position: relative;\n  background: #000;\n  border-radius: 12px;\n  overflow: hidden;\n  margin-bottom: 30px;\n  min-height: 400px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.camera-preview video {\n  width: 100%;\n  height: auto;\n  max-height: 500px;\n  object-fit: cover;\n  border-radius: 12px;\n}\n\n.camera-preview video.recording {\n  border: 3px solid #e74c3c;\n  animation: recordingPulse 2s infinite;\n}\n\n@keyframes recordingPulse {\n  0%, 100% { border-color: #e74c3c; }\n  50% { border-color: #c0392b; }\n}\n\n.recording-indicator {\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  background: rgba(231, 76, 60, 0.9);\n  color: white;\n  padding: 8px 15px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.recording-dot {\n  width: 8px;\n  height: 8px;\n  background: white;\n  border-radius: 50%;\n  animation: recordingBlink 1s infinite;\n}\n\n@keyframes recordingBlink {\n  0%, 50% { opacity: 1; }\n  51%, 100% { opacity: 0; }\n}\n\n.camera-placeholder {\n  text-align: center;\n  color: #7f8c8d;\n  padding: 60px 20px;\n}\n\n.placeholder-icon {\n  font-size: 64px;\n  margin-bottom: 20px;\n}\n\n.placeholder-text {\n  font-size: 18px;\n  color: #2c3e50;\n}\n\n/* æ§åˆ¶æŒ‰é’® */\n.control-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-bottom: 30px;\n}\n\n.main-controls {\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n  flex-wrap: wrap;\n}\n\n.settings-controls {\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  flex-wrap: wrap;\n  padding: 15px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.setting-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.setting-item label {\n  font-weight: 500;\n  color: #2c3e50;\n  min-width: 60px;\n}\n\n/* å½•åˆ¶åˆ—è¡¨ */\n.recordings-section {\n  background: #fff;\n  border-radius: 8px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.recordings-list {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.recording-item {\n  display: flex;\n  gap: 15px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n  border: 1px solid #e9ecef;\n}\n\n.recording-preview {\n  width: 200px;\n  height: 120px;\n  object-fit: cover;\n  border-radius: 6px;\n  flex-shrink: 0;\n}\n\n.recording-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.recording-name {\n  font-weight: bold;\n  color: #2c3e50;\n  font-size: 16px;\n}\n\n.recording-details {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  color: #7f8c8d;\n  font-size: 12px;\n}\n\n.recording-actions {\n  display: flex;\n  gap: 8px;\n  margin-top: auto;\n}\n\n/* ç…§ç‰‡ç½‘æ ¼ */\n.photos-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 15px;\n}\n\n.photo-item {\n  position: relative;\n  aspect-ratio: 4/3;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.photo-item img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.photo-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.photo-item:hover .photo-overlay {\n  opacity: 1;\n}\n\n.photo-actions {\n  display: flex;\n  gap: 8px;\n}\n\n/* ç©ºçŠ¶æ€ */\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: #7f8c8d;\n}\n\n.empty-icon {\n  font-size: 64px;\n  margin-bottom: 20px;\n}\n\n.empty-text {\n  font-size: 18px;\n  margin-bottom: 20px;\n  color: #2c3e50;\n}\n\n.empty-tips {\n  max-width: 400px;\n  margin: 0 auto;\n  text-align: left;\n}\n\n.empty-tips p {\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.empty-tips ul {\n  list-style: none;\n  padding: 0;\n}\n\n.empty-tips li {\n  padding: 5px 0;\n  font-size: 14px;\n}\n\n/* ç§»åŠ¨ç«¯é€‚é… */\n@media (max-width: 768px) {\n  .camera-recorder-container {\n    padding: 15px;\n  }\n\n  .page-header h1 {\n    font-size: 24px;\n  }\n\n  .recorder-section {\n    padding: 20px 15px;\n  }\n\n  .camera-preview {\n    min-height: 250px;\n  }\n\n  .main-controls {\n    flex-direction: column;\n  }\n\n  .main-controls .el-button {\n    width: 100%;\n  }\n\n  .settings-controls {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .setting-item {\n    width: 100%;\n    justify-content: space-between;\n  }\n\n  .recording-item {\n    flex-direction: column;\n  }\n\n  .recording-preview {\n    width: 100%;\n    height: 180px;\n  }\n\n  .photos-grid {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  }\n\n  .recording-actions {\n    flex-direction: column;\n  }\n\n  .recording-actions .el-button {\n    width: 100%;\n  }\n}\n\n@media (max-width: 480px) {\n  .camera-recorder-container {\n    padding: 10px;\n  }\n\n  .page-header h1 {\n    font-size: 20px;\n  }\n\n  .recorder-section {\n    padding: 15px 10px;\n  }\n\n  .camera-preview {\n    min-height: 200px;\n  }\n\n  .recording-indicator {\n    top: 10px;\n    left: 10px;\n    padding: 6px 12px;\n    font-size: 12px;\n  }\n\n  .photos-grid {\n    grid-template-columns: 1fr 1fr;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CameraRecorderView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CameraRecorderView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CameraRecorderView.vue?vue&type=template&id=48c2e9a5&scoped=true\"\nimport script from \"./CameraRecorderView.vue?vue&type=script&lang=js\"\nexport * from \"./CameraRecorderView.vue?vue&type=script&lang=js\"\nimport style0 from \"./CameraRecorderView.vue?vue&type=style&index=0&id=48c2e9a5&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48c2e9a5\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","ref","class","isRecording","attrs","domProps","_v","_s","formatTime","recordingTime","_e","cameraStarted","on","stopRecording","canRecord","startRecording","takePhoto","stopCamera","startingCamera","startCamera","switchCamera","model","value","selectedCamera","callback","$$v","expression","_l","availableCameras","camera","key","deviceId","label","substr","changeResolution","selectedResolution","includeAudio","recordings","length","photos","activeTab","recording","index","url","duration","formatFileSize","size","timestamp","$event","downloadRecording","deleteRecording","photo","downloadPhoto","deletePhoto","showPermissionDialog","staticStyle","slot","requestPermission","staticRenderFns","name","data","currentStream","mediaRecorder","recordedChunks","recordingTimer","methods","getAvailableDevices","initializeCamera","$message","success","error","console","handleCameraError","devices","navigator","mediaDevices","enumerateDevices","filter","device","kind","constraints","video","exact","undefined","getResolutionConstraints","audio","getUserMedia","$refs","videoPreview","srcObject","resolutions","width","height","stopCurrentStream","options","mimeType","MediaRecorder","ondataavailable","event","push","onstop","saveRecording","start","setInterval","stop","clearInterval","blob","Blob","type","URL","createObjectURL","Date","toLocaleString","unshift","canvas","document","createElement","ctx","getContext","videoWidth","videoHeight","drawImage","toBlob","getTracks","forEach","track","link","href","download","now","body","appendChild","click","removeChild","$confirm","confirmButtonText","cancelButtonText","then","revokeObjectURL","splice","message","seconds","mins","Math","floor","secs","toString","padStart","bytes","k","sizes","i","log","parseFloat","pow","toFixed","beforeDestroy","component"],"sourceRoot":""}