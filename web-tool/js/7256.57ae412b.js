"use strict";(self["webpackChunkweb_tool_vue"]=self["webpackChunkweb_tool_vue"]||[]).push([[7256],{27256:function(t,e,i){i.r(e),i.d(e,{default:function(){return r}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-container"},[t._m(0),e("div",{staticClass:"diff-controls"},[e("el-radio-group",{on:{change:t.performDiff},model:{value:t.diffMode,callback:function(e){t.diffMode=e},expression:"diffMode"}},[e("el-radio-button",{attrs:{label:"line"}},[t._v("é€è¡Œå¯¹æ¯”")]),e("el-radio-button",{attrs:{label:"word"}},[t._v("å•è¯å¯¹æ¯”")]),e("el-radio-button",{attrs:{label:"char"}},[t._v("å­—ç¬¦å¯¹æ¯”")])],1),e("el-checkbox",{on:{change:t.performDiff},model:{value:t.ignoreWhitespace,callback:function(e){t.ignoreWhitespace=e},expression:"ignoreWhitespace"}},[t._v("å¿½ç•¥ç©ºç™½å­—ç¬¦")]),e("el-checkbox",{on:{change:t.performDiff},model:{value:t.ignoreCase,callback:function(e){t.ignoreCase=e},expression:"ignoreCase"}},[t._v("å¿½ç•¥å¤§å°å†™")]),e("el-button",{on:{click:t.swapTexts}},[e("i",{staticClass:"el-icon-refresh"}),t._v(" äº¤æ¢æ–‡æœ¬ ")]),e("el-button",{on:{click:t.clearAll}},[e("i",{staticClass:"el-icon-delete"}),t._v(" æ¸…ç©º ")])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("el-card",{staticClass:"text-card"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("åŸå§‹æ–‡æœ¬")]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.loadSampleText("original")}}},[t._v(" åŠ è½½ç¤ºä¾‹ ")])],1),e("el-input",{attrs:{type:"textarea",placeholder:"è¯·è¾“å…¥åŸå§‹æ–‡æœ¬",rows:15},on:{input:t.performDiff},model:{value:t.originalText,callback:function(e){t.originalText=e},expression:"originalText"}}),e("div",{staticClass:"text-stats"},[e("span",[t._v("è¡Œæ•°: "+t._s(t.getLineCount(t.originalText)))]),e("span",[t._v("å­—ç¬¦æ•°: "+t._s(t.originalText.length))]),e("span",[t._v("å•è¯æ•°: "+t._s(t.getWordCount(t.originalText)))])])],1)],1),e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("el-card",{staticClass:"text-card"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("ä¿®æ”¹æ–‡æœ¬")]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.loadSampleText("modified")}}},[t._v(" åŠ è½½ç¤ºä¾‹ ")])],1),e("el-input",{attrs:{type:"textarea",placeholder:"è¯·è¾“å…¥ä¿®æ”¹åçš„æ–‡æœ¬",rows:15},on:{input:t.performDiff},model:{value:t.modifiedText,callback:function(e){t.modifiedText=e},expression:"modifiedText"}}),e("div",{staticClass:"text-stats"},[e("span",[t._v("è¡Œæ•°: "+t._s(t.getLineCount(t.modifiedText)))]),e("span",[t._v("å­—ç¬¦æ•°: "+t._s(t.modifiedText.length))]),e("span",[t._v("å•è¯æ•°: "+t._s(t.getWordCount(t.modifiedText)))])])],1)],1)],1),e("el-card",{staticClass:"result-card",staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("å¯¹æ¯”ç»“æœ")]),e("div",{staticStyle:{float:"right"}},[e("el-tag",{attrs:{type:t.diffStats.additions>0?"success":"info",size:"mini"}},[t._v(" +"+t._s(t.diffStats.additions)+" ")]),e("el-tag",{attrs:{type:t.diffStats.deletions>0?"danger":"info",size:"mini"}},[t._v(" -"+t._s(t.diffStats.deletions)+" ")]),e("el-tag",{attrs:{type:t.diffStats.modifications>0?"warning":"info",size:"mini"}},[t._v(" ~"+t._s(t.diffStats.modifications)+" ")])],1)]),t.diffResult.length>0?e("div",{staticClass:"diff-display"},t._l(t.diffResult,(function(i,s){return e("div",{key:s,class:["diff-line",`diff-${i.type}`]},[e("div",{staticClass:"line-number"},[e("span",{staticClass:"original-line"},[t._v(t._s(i.originalLine||""))]),e("span",{staticClass:"modified-line"},[t._v(t._s(i.modifiedLine||""))])]),e("div",{staticClass:"line-content"},[e("span",{staticClass:"diff-marker"},[t._v(t._s(t.getDiffMarker(i.type)))]),e("span",{staticClass:"line-text",domProps:{innerHTML:t._s(i.content)}})])])})),0):e("div",{staticClass:"no-diff"},[e("i",{staticClass:"el-icon-success"}),e("p",[t._v("ä¸¤æ®µæ–‡æœ¬å®Œå…¨ç›¸åŒ")])])]),e("el-card",{staticClass:"summary-card",staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("å¯¹æ¯”æ‘˜è¦")])]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:12,sm:6,md:6,lg:6,xl:6}},[e("div",{staticClass:"summary-item"},[e("div",{staticClass:"summary-number addition"},[t._v(t._s(t.diffStats.additions))]),e("div",{staticClass:"summary-label"},[t._v("æ–°å¢")])])]),e("el-col",{attrs:{xs:12,sm:6,md:6,lg:6,xl:6}},[e("div",{staticClass:"summary-item"},[e("div",{staticClass:"summary-number deletion"},[t._v(t._s(t.diffStats.deletions))]),e("div",{staticClass:"summary-label"},[t._v("åˆ é™¤")])])]),e("el-col",{attrs:{xs:12,sm:6,md:6,lg:6,xl:6}},[e("div",{staticClass:"summary-item"},[e("div",{staticClass:"summary-number modification"},[t._v(t._s(t.diffStats.modifications))]),e("div",{staticClass:"summary-label"},[t._v("ä¿®æ”¹")])])]),e("el-col",{attrs:{xs:12,sm:6,md:6,lg:6,xl:6}},[e("div",{staticClass:"summary-item"},[e("div",{staticClass:"summary-number unchanged"},[t._v(t._s(t.diffStats.unchanged))]),e("div",{staticClass:"summary-label"},[t._v("æœªå˜")])])])],1)],1)],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tool-header"},[e("h1",[t._v("ğŸ“Š æ–‡æœ¬å·®å¼‚å¯¹æ¯”")]),e("p",[t._v("å¯¹æ¯”ä¸¤æ®µæ–‡æœ¬çš„å·®å¼‚ï¼Œæ”¯æŒé€è¡Œå¯¹æ¯”å’Œå­—ç¬¦çº§å¯¹æ¯”")])])}],n=(i(44114),{name:"TextDiffView",metaInfo:{title:"æ–‡æœ¬å·®å¼‚å¯¹æ¯”å·¥å…· - åœ¨çº¿æ–‡æœ¬å¯¹æ¯”",meta:[{name:"description",content:"åœ¨çº¿æ–‡æœ¬å·®å¼‚å¯¹æ¯”å·¥å…·ï¼Œæ”¯æŒé€è¡Œå¯¹æ¯”ã€å•è¯å¯¹æ¯”å’Œå­—ç¬¦å¯¹æ¯”ï¼Œæä¾›è¯¦ç»†çš„å·®å¼‚ç»Ÿè®¡ã€‚"},{name:"keywords",content:"æ–‡æœ¬å¯¹æ¯”,å·®å¼‚å¯¹æ¯”,æ–‡æœ¬æ¯”è¾ƒ,diffå·¥å…·,åœ¨çº¿å·¥å…·"}]},data(){return{originalText:"",modifiedText:"",diffMode:"line",ignoreWhitespace:!1,ignoreCase:!1,diffResult:[],diffStats:{additions:0,deletions:0,modifications:0,unchanged:0}}},methods:{performDiff(){if(!this.originalText&&!this.modifiedText)return this.diffResult=[],void this.resetStats();let t=this.originalText,e=this.modifiedText;switch(this.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),this.ignoreWhitespace&&(t=t.replace(/\s+/g," ").trim(),e=e.replace(/\s+/g," ").trim()),this.diffMode){case"line":this.performLineDiff(t,e);break;case"word":this.performWordDiff(t,e);break;case"char":this.performCharDiff(t,e);break}},performLineDiff(t,e){const i=t.split("\n"),s=e.split("\n");this.diffResult=[],this.resetStats();const a=Math.max(i.length,s.length);for(let n=0;n<a;n++){const t=i[n]||"",e=s[n]||"";t===e?(t||e)&&(this.diffResult.push({type:"unchanged",content:this.escapeHtml(t),originalLine:n+1,modifiedLine:n+1}),this.diffStats.unchanged++):t?e?(this.diffResult.push({type:"deletion",content:this.escapeHtml(t),originalLine:n+1}),this.diffResult.push({type:"addition",content:this.escapeHtml(e),modifiedLine:n+1}),this.diffStats.modifications++):(this.diffResult.push({type:"deletion",content:this.escapeHtml(t),originalLine:n+1}),this.diffStats.deletions++):(this.diffResult.push({type:"addition",content:this.escapeHtml(e),modifiedLine:n+1}),this.diffStats.additions++)}},performWordDiff(t,e){const i=t.split(/\s+/).filter((t=>t)),s=e.split(/\s+/).filter((t=>t));this.diffResult=[],this.resetStats();const a=this.longestCommonSubsequence(i,s);let n=0,l=0,o=0;while(n<i.length||l<s.length)o<a.length&&n<i.length&&i[n]===a[o]?(this.diffResult.push({type:"unchanged",content:this.escapeHtml(i[n])}),this.diffStats.unchanged++,n++,l++,o++):n<i.length&&(o>=a.length||i[n]!==a[o])?(this.diffResult.push({type:"deletion",content:this.escapeHtml(i[n])}),this.diffStats.deletions++,n++):l<s.length&&(this.diffResult.push({type:"addition",content:this.escapeHtml(s[l])}),this.diffStats.additions++,l++)},performCharDiff(t,e){this.diffResult=[],this.resetStats();const i=this.longestCommonSubsequence(t.split(""),e.split(""));let s=0,a=0,n=0;while(s<t.length||a<e.length)n<i.length&&s<t.length&&t[s]===i[n]?(this.diffResult.push({type:"unchanged",content:this.escapeHtml(t[s])}),this.diffStats.unchanged++,s++,a++,n++):s<t.length&&(n>=i.length||t[s]!==i[n])?(this.diffResult.push({type:"deletion",content:this.escapeHtml(t[s])}),this.diffStats.deletions++,s++):a<e.length&&(this.diffResult.push({type:"addition",content:this.escapeHtml(e[a])}),this.diffStats.additions++,a++)},longestCommonSubsequence(t,e){const i=t.length,s=e.length,a=Array(i+1).fill().map((()=>Array(s+1).fill(0)));for(let d=1;d<=i;d++)for(let i=1;i<=s;i++)t[d-1]===e[i-1]?a[d][i]=a[d-1][i-1]+1:a[d][i]=Math.max(a[d-1][i],a[d][i-1]);const n=[];let l=i,o=s;while(l>0&&o>0)t[l-1]===e[o-1]?(n.unshift(t[l-1]),l--,o--):a[l-1][o]>a[l][o-1]?l--:o--;return n},escapeHtml(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;")},getDiffMarker(t){const e={addition:"+",deletion:"-",modification:"~",unchanged:" "};return e[t]||" "},getLineCount(t){return t?t.split("\n").length:0},getWordCount(t){return t?t.split(/\s+/).filter((t=>t)).length:0},resetStats(){this.diffStats={additions:0,deletions:0,modifications:0,unchanged:0}},swapTexts(){const t=this.originalText;this.originalText=this.modifiedText,this.modifiedText=t,this.performDiff()},clearAll(){this.originalText="",this.modifiedText="",this.diffResult=[],this.resetStats()},loadSampleText(t){const e={original:"Hello World!\nThis is a sample text.\nIt has multiple lines.\nSome lines will be changed.\nOthers will remain the same.",modified:"Hello Universe!\nThis is a sample text.\nIt has multiple lines.\nSome lines have been modified.\nOthers will remain the same.\nThis is a new line."};"original"===t?this.originalText=e.original:this.modifiedText=e.modified,this.performDiff()}}}),l=n,o=i(81656),d=(0,o.A)(l,s,a,!1,null,"6f329cdf",null),r=d.exports}}]);
//# sourceMappingURL=7256.57ae412b.js.map